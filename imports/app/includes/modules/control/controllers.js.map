{"version":3,"file":"controllers.js","names":["modulecontrollers","ModuleControllers","module","global","session","currency","position","CurrencyAmountClass","getModuleClass","create","amount","decimals","DecimalAmountClass","currenciesmodule","getModuleObject","getCurrencyScheme","readLocalCurrencies","currencies","saveLocalCurrencies","saveLocalCurrency","scheme","token1","token2","token2amount","uniswap_conf","swapmodule","getPriceForOutput","window","GlobalClass","registerModuleClass","_GlobalClass","simplestore","Global"],"sources":["../../../../../../../../imports/app/includes/modules/control/controllers.js"],"sourcesContent":["'use strict';\n\nvar modulecontrollers;\n\nvar ModuleControllers = class {\n\t\n\tconstructor(module) {\n\t\tthis.module = module;\n\t\t\n\t\tthis.global = module.global;\n\t}\n\n\t//\n\t// Currencies modules gateway\n\t//\n\n\t/***********************/\n\t/*  currencies module  */\n\t/***********************/\n\n\tasync createCurrencyAmount(session, currency, position) {\n\t\tvar global = this.global;\n\t\tvar CurrencyAmountClass = global.getModuleClass('currencies', 'CurrencyAmount');\n\t\treturn CurrencyAmountClass.create(session, currency, position);\n\t}\n\n\tasync createDecimalAmount(session, amount, decimals) {\n\t\tvar global = this.global;\n\t\tvar DecimalAmountClass = global.getModuleClass('currencies', 'DecimalAmount');\n\t\treturn DecimalAmountClass.create(session, amount, decimals);\n\t}\n\n\tasync getCurrencyScheme(session, currency) {\n\t\tvar global = this.global;\n\t\tvar currenciesmodule = global.getModuleObject('currencies');\n\n\t\treturn currenciesmodule.getCurrencyScheme(session, currency);\n\t}\n\n\tasync readLocalCurrencies(session) {\n\t\tvar global = this.global;\n\t\tvar currenciesmodule = global.getModuleObject('currencies');\n\n\t\treturn currenciesmodule.readLocalCurrencies(session);\n\t}\n\n\tasync saveLocalCurrencies(session, currencies) {\n\t\tvar global = this.global;\n\t\tvar currenciesmodule = global.getModuleObject('currencies');\n\n\t\treturn currenciesmodule.saveLocalCurrencies(session, currencies);\n\t}\n\n\tasync saveLocalCurrency(session, currency) {\n\t\tvar global = this.global;\n\t\tvar currenciesmodule = global.getModuleObject('currencies');\n\n\t\treturn currenciesmodule.saveLocalCurrency(session, currency);\n\t}\n\n\t/***********************/\n\t/*    uniswap module   */\n\t/***********************/\n\t\n\tasync getPriceForOutput(session, scheme, token1, token2, token2amount, uniswap_conf) {\n\t\tvar global = this.global;\n\t\tvar swapmodule = global.getModuleObject('uniswap');\n\t\treturn swapmodule.getPriceForOutput(session, scheme, token1, token2, token2amount, uniswap_conf);\n\t}\n\t\n\t/***********************/\n\t/*     static          */\n\t/***********************/\n\n\t// static\n\tstatic getObject() {\n\t\tif (modulecontrollers)\n\t\t\treturn modulecontrollers;\n\t\t\n\t\tmodulecontrollers = new ModuleControllers();\n\t\t\n\t\treturn modulecontrollers;\n\t}\n}\n\nif ( typeof window !== 'undefined' && typeof window.GlobalClass !== 'undefined' && window.GlobalClass ) {\n\twindow.GlobalClass.registerModuleClass('currenciesmodules', 'Controllers', ModuleControllers);\n}\nelse if (typeof window !== 'undefined') {\n\tlet _GlobalClass = ( window && window.simplestore && window.simplestore.Global ? window.simplestore.Global : null);\n\t\n\t_GlobalClass.registerModuleClass('currenciesmodules', 'Controllers', ModuleControllers);\n}\nelse if (typeof global !== 'undefined') {\n\t// we are in node js\n\tlet _GlobalClass = ( global && global.simplestore && global.simplestore.Global ? global.simplestore.Global : null);\n\t\n\t_GlobalClass.registerModuleClass('currenciesmodules', 'Controllers', ModuleControllers);\n}"],"mappings":"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"}