{"version":3,"file":"currency-amount.js","names":["CurrencyAmount","session","currency","amount","global","getGlobalObject","DecimalAmountClass","getModuleClass","decimalamount","decimals","toString","toInteger","multiplier","multiply","options","mvccurrenciesmodule","getModuleObject","symbol","_formatMonetaryAmount","amountstring","window","GlobalClass","_GlobalClass","simplestore","Global","registerModuleClass"],"sources":["../../../../../../../../../imports/app/includes/modules/currencies/model/currency-amount.js"],"sourcesContent":["'use strict';\n\nvar CurrencyAmount = class {\n\tconstructor(session, currency, amount) {\n\t\tthis.session = session;\n\t\tthis.currency = currency;\n\n\t\tvar global = session.getGlobalObject();\n\t\tvar DecimalAmountClass = global.getModuleClass('currencies', 'DecimalAmount');\n\n\t\tthis.decimalamount = new DecimalAmountClass(session, amount, currency.decimals);\n\t}\n\n\tasync getDecimalAmount() {\n\t\treturn this.decimalamount;\n\t}\n\n\tasync toString() {\n\t\treturn this.decimalamount.toString();\n\t}\n\n\tasync toInteger() {\n\t\treturn this.decimalamount.toInteger();\n\t}\n\n\tasync multiply(multiplier) {\n\t\tawait this.decimalamount.multiply(multiplier);\n\n\t\t return this;\n\t}\n\n\tasync toDecoratedString(options) {\n\t\tvar session = this.session;\n\t\tvar global = session.getGlobalObject();\n\t\tvar mvccurrenciesmodule = global.getModuleObject('mvc-currencies');\n\n\t\tvar amount = await this.decimalamount.toInteger();\n\t\tvar symbol = this.currency.symbol;\n\t\tvar decimals = this.currency.decimals;\n\t\t\n\t\tvar amountstring = await mvccurrenciesmodule._formatMonetaryAmount(session, amount, symbol, decimals, options);\n\n\t\treturn amountstring;\n\t}\n\n\n\n\n\tstatic async create(session, currency, amount) {\n\t\t// analyse amount type transform it to integer\n\t\treturn new CurrencyAmount(session, currency, amount);\n\t}\n}\n\nif ( typeof window !== 'undefined' && typeof window.GlobalClass !== 'undefined' && window.GlobalClass ) {\n\tvar _GlobalClass = window.GlobalClass;\n}\nelse if (typeof window !== 'undefined') {\n\tvar _GlobalClass = ( window && window.simplestore && window.simplestore.Global ? window.simplestore.Global : null);\n}\nelse if (typeof global !== 'undefined') {\n\t// we are in node js\n\tvar _GlobalClass = ( global && global.simplestore && global.simplestore.Global ? global.simplestore.Global : null);\n}\n\n_GlobalClass.registerModuleClass('currencies', 'CurrencyAmount', CurrencyAmount);\n"],"mappings":"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"}