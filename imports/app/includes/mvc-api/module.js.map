{"version":3,"file":"module.js","names":["Module","name","current_version","global","app","controllers","isready","isloading","clientapicontrollers","currenciesapicontrollers","console","log","parentscriptloader","callback","self","modulescriptloader","getChildLoader","load_scripts","init","rootscriptloader","getRootScriptLoader","signalEvent","loadModule","registerHooks","mvcclientwalletmodule","getModuleObject","_getClientAPI","currenciesmodules","getControllersObject","wallet","scheme","isRemote","walletschemeuuid","getSchemeUUID","card","session","fromaccount","_apicontrollers","transaction","createEthereumTransaction","parentsession","Promise","reject","schemesessionmap","getSessionVariable","Object","create","setSessionVariable","schemeuuid","createChildSessionObject","childsession","MYQUOTE","MYQUOTE_ROOT","networkconfig","getNetworkConfig","setSessionNetworkConfig","_canWalletHandleScheme","fetchsession","_getSession","walletsession","_getChildSessionOnScheme","authname","password","address","Card","getModuleClass","cardjson","uuid","guid","label","card_new","readFromJson","isLocked","unlock","Error","privatekey","isValidPrivateKey","getSessionAccountFromPrivateKey","sessionaccount","_privatekey","generatePrivateKey","walletuser","getSessionUserObject","getAddress","getUserName","__makeWalletCard","err","createWalletCard","wallettype","getWalletType","_makeWalletCard","getCardsWithAddress","then","cardarray","i","length","cardschemeuuid","_getAverageTransactionFee","currency","position","_apicurrencies","_getCurrenciesAPI","createCurrencyAmount","amount","decimals","createDecimalAmount","sessionuuid","walletuuid","cardfromuuid","cardtouuid","currencyuuid","currencyamount","feelevel","CurrencyAmountClass","toString","getSessionObject","getCurrencyFromUUID","getWalletFromUUID","getCardFromUUID","fromcard","tocard","_getSessionAccountObject","_getMonitoredCardSession","cardsession","from_card_scheme","getScheme","toaddress","tokenaddress","tokenamount","_getCurrencyWeb3ProviderUrl","providerurl","senderprivatekey","getPrivateKey","recipientaddress","createSchemeFee","fee","sendERC20Tokens","txhash","currenciesmodule","getCurrencyProvider","_getCurrencyProvider","currency_provider","getOps","canpay","currencyschemeuuid","scheme_uuid","getSchemeFromUUID","web3url","web3providerurl","getSchemeFromWeb3Url","getDefaultScheme","defaultlocalscheme","cloneOnWeb3ProviderUrl","_getCurrencyScheme","getWeb3ProviderUrl","url1","url2","_url1","endsWith","substring","_url2","getCurrencies","currencies","_compareUrl","getSessionUUID","pretradeschemeuuid","pretrade_scheme_uuid","clientmodule","getBuiltinLocalSchemes","builtin_local_schemes","prestradescheme","firenze","_currencies","push","array","currencyscheme","readLocalCurrencies","saveLocalCurrencies","saveLocalCurrency","current_currencies_timestamp","getCurrenciesTimeStamp","currencies_timestamp","_filterCurrencies","values","_getCurrencyOps","ops","_getPretradeScheme","e","currency_pretrade_scheme","currency_pretrade_ethnode_conf","getEthNodeServerConfig","pretrade_web3_provider_url","web3_provider_url","pretrade_explorer_url","explorerurl","arr","trim","toLowerCase","_currencyaddress","getCurrencyScheme","_getMonitoredSchemeSession","importERC20Token","erc20token_contract","getChainName","getChainSymbol","symbol","getChainDecimals","description","_web3providerurl","_currency","_currency_scheme","_web3_provider_url","network","ethnodeserver","cards","getCurrencyCardList","_currency_cards","concat","getCardList","_crdschemeuuid","xtradata","getXtraData","_crdcurrencyuuid","_getCurrencyCardList","crd","xtra","maincard","mvcclienwallet","schemeinfo","_fillSchemeInfoFromScheme","carduuid","_getCurrencyCard","cardinfo","getCardUUID","_fillCardInfo","currencycards","currencycard","putXtraData","save","_createWalletCard","bSave","setCurrencyCard","_getCardFromAddressOnScheme","createReadOnlyCurrencyCard","createCard","createCurrencyCard","getTokenAccountFromAddress","tokenaccount","token","getTokenObject","createTokenAccount","_synchronizeWithERC20TokenContract","getCurrencyCard","getCardInfo","cardaddress","valuescheme","getAddressERC20Position","_createCurrencyAmount","getCreditBalance","credits","getSchemeTransactionUnitsThreshold","threshold","cantxfree","cantopup","topUpCard","topupinfo","top","tokenamount_string","value","gaslimit","gasPrice","transactioncredits","_createMonitoredEthereumTransaction","ethtx","setToAddress","setGas","setGasPrice","setValue","transferERC20Tokens","payAmount","paymenturl","getPaymentUrl","erc20token","getChainTotalSupply","tokenuuid","importTokenAccount","erc20tokenaccount","getToken","tokenaccountsession","erc20tokencontract","_getERC20TokenContract","contractinterface","getContractInterface","contractinstance","getContractInstance","ethereumnodeaccessinstance","getEthereumNodeAccessInstance","MYWIDGET_OVERLOAD","Date","now","_findTransactionFromUUID","transactionuuid","jsonarray","_readTransactionLogs","tx_log","transactionHash","getAddressFromTransactionUUID","_getAddressFromTokenUUID","importCurrencyFromTokenAddress","xtra_data","origin","provider","makeCurrencyCard","pretradescheme","pretradeschemeinfo","getPretradeSchemeInfo","pretrade_schemeinfo","pretrade_web3providerurl","bRefresh","cardlist","_getCardsOnScheme","pretradecard","canSign","canPretradeCardSign","pretradecardinfo","canCardSign","cloneCard","setPretradeCard","creditunits","swapmodule","ethnodemodule","avg_transaction_fee","weiamount","getWeiFromEther","_createDecimalAmount","ethamount","multiply","toInteger","ethcredit","uniswap_v2","version","weth","gas_name","gas_address","gas_symbol","gas_decimals","getPriceForOutput","pricing","priceamount","amounts_in","price_struct","creditunits_requested","currency_amount","getCurrencyPosition","currencyposition","tokenamountmax","buyEthOnOutput","amountstring","undefined","_amountstring","index","indexOf","isNaN","split","multiplier","amountnumberstring","integerstring","substr","options","_inputamountstring","integerpart","leading","showdecimals","decimalsshown","_formatAmount","erc20contrat","_synchronizeERC20TokenContract","getDecimals","getSymbol","_formatMonetaryAmount","_unformatAmount","tokenamountstring","Number","isInteger","formatAmount","isFloat","n","_options","currencyamountstring","window","GlobalClass","_GlobalClass","simplestore","Global","getGlobalObject","registerModuleObject","registerModuleDepency"],"sources":["../../../../../../../imports/app/includes/mvc-api/module.js"],"sourcesContent":["'use strict';\n\n\nvar Module = class {\n\t\n\tconstructor() {\n\t\tthis.name = 'mvc-currencies';\n\t\tthis.current_version = \"0.30.10.2021.06.30\";\n\t\t\n\t\tthis.global = null; // put by global on registration\n\t\tthis.app = null;\n\t\t\n\t\tthis.controllers = null;\n\n\t\tthis.isready = false;\n\t\tthis.isloading = false;\n\n\t\tthis.clientapicontrollers = null; // API gateway\n\t\tthis.currenciesapicontrollers = null; // API gateway\n\t}\n\t\n\tinit() {\n\t\tconsole.log('module init called for ' + this.name);\n\n\t\tvar global = this.global;\n\t\t\n\t\tthis.isready = true;\n\t}\n\t\n\t// compulsory  module functions\n\tloadModule(parentscriptloader, callback) {\n\t\tconsole.log('loadModule called for module ' + this.name);\n\t\t\n\t\tif (this.isloading)\n\t\t\treturn;\n\t\t\t\n\t\tthis.isloading = true;\n\n\t\tvar self = this;\n\n\t\tvar modulescriptloader = parentscriptloader.getChildLoader('mvccurrenciesloader');\n\n\t\tmodulescriptloader.load_scripts(function() { self.init(); if (callback) callback(null, self); });\n\n\t\treturn modulescriptloader;\t\n\t}\n\t\n\tisReady() {\n\t\treturn this.isready;\n\t}\n\n\thasLoadStarted() {\n\t\treturn this.isloading;\n\t}\n\n\t// optional module functions\n\tregisterHooks() {\n\t\tconsole.log('module registerHooks called for ' + this.name);\n\t\t\n\t\tvar global = this.global;\n\t\t\n\t\t// hooks\n\n\t\t// signal module is ready\n\t\tvar rootscriptloader = global.getRootScriptLoader();\n\t\trootscriptloader.signalEvent('on_mvc_currencies_module_ready');\n\t}\n\t\n\tpostRegisterModule() {\n\t\tconsole.log('postRegisterModule called for ' + this.name);\n\t\tif (!this.isloading) {\n\t\t\tvar global = this.global;\n\t\t\tvar self = this;\n\t\t\tvar rootscriptloader = global.getRootScriptLoader();\n\t\t\t\n\t\t\tthis.loadModule(rootscriptloader, function() {\n\t\t\t\tif (self.registerHooks)\n\t\t\t\tself.registerHooks();\n\t\t\t});\n\t\t}\n\t}\n\t\n\t_getClientAPI() {\n\t\tif (this.clientapicontrollers)\n\t\t\treturn this.clientapicontrollers;\n\t\t\n\t\tvar global = this.global;\n\t\t\n\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\t\t\n\t\tthis.clientapicontrollers = mvcclientwalletmodule._getClientAPI();\n\t\t\n\t\treturn  this.clientapicontrollers;\n\t}\n\n\t_getCurrenciesAPI() {\n\t\tif (this.currenciesapicontrollers)\n\t\t\treturn this.currenciesapicontrollers;\n\t\t\n\t\tvar global = this.global;\n\t\t\n\t\tvar currenciesmodules = global.getModuleObject('currenciesmodules');\n\t\t\n\t\tthis.currenciesapicontrollers = currenciesmodules.getControllersObject();\n\t\t\n\t\treturn  this.currenciesapicontrollers;\n\t}\n\n\t//\n\t// hooks\n\t//\n\t\n\n\t//\n\t// API\n\t//\n\n\n\t//\n\t// Ethnode\n\t//\n\n\t_canWalletHandleScheme(wallet, scheme) {\n\t\tif (!wallet || !scheme)\n\t\t\treturn false;\n\n\t\tif (scheme.isRemote()) {\n\t\t\tvar walletschemeuuid = wallet.getSchemeUUID();\n\n\t\t\t// TODO: we could look if authserver are the same\n\t\t\tif (walletschemeuuid && (walletschemeuuid === scheme.getSchemeUUID()))\n\t\t\t\treturn true;\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t\telse {\n\t\t\treturn true;\n\t\t}\n\n\t}\n\n\tasync _createMonitoredEthereumTransaction(wallet, card, session, fromaccount) {\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\t\n\t\tvar transaction = _apicontrollers.createEthereumTransaction(session, fromaccount);\n\n\t\treturn transaction;\n\t}\n\n\t//\n\t// Scheme functions\n\t//\n\n\tasync _getChildSessionOnScheme(parentsession, scheme) {\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\n\t\tif (!parentsession)\n\t\t\treturn Promise.reject('could not find create child of null session');\n\n\t\tvar schemesessionmap = parentsession.getSessionVariable('schemesessionmap');\n\t\t\n\t\tif (!schemesessionmap) {\n\t\t\tschemesessionmap = Object.create(null);\n\t\t\tparentsession.setSessionVariable('schemesessionmap', schemesessionmap);\n\t\t}\n\t\t\n\t\t// we could look if a pre-existing session with corresponding web3providerurl could be re-used\n\t\tvar schemeuuid = scheme.getSchemeUUID();\n\n\t\tif (schemesessionmap[schemeuuid])\n\t\t\treturn schemesessionmap[schemeuuid];\n\n\t\t// else we create one and set it\n\t\tvar childsession = await _apicontrollers.createChildSessionObject(parentsession);\n\t\tchildsession.MYQUOTE = this.current_version;\n\n\t\tif (!parentsession.MYQUOTE_ROOT)\n\t\t\tparentsession.MYQUOTE_ROOT = this.current_version;\n\n\t\tvar networkconfig = scheme.getNetworkConfig();\n\n\t\tawait _apicontrollers.setSessionNetworkConfig(childsession, networkconfig);\n\n\t\tschemesessionmap[schemeuuid] = childsession;\n\n\t\treturn childsession;\n\t}\n\n\n\tasync _getMonitoredSchemeSession(session, wallet, scheme) {\n\t\tvar fetchsession;\n\n\t\tif (!scheme)\n\t\t\treturn Promise.reject('scheme is not defined');\n\n\t\tif (scheme.isRemote()) {\n\t\t\tif (wallet) {\n\t\t\t\tvar walletschemeuuid = wallet.getSchemeUUID();\n\t\t\t\tvar schemeuuid = scheme.getSchemeUUID();\n\t\n\t\t\t\tif (this._canWalletHandleScheme(wallet, scheme)) {\n\t\t\t\t\t// use wallet session\n\t\t\t\t\tfetchsession = wallet._getSession();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn Promise.reject('ERR_MISSING_CREDENTIALS');\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn Promise.reject('ERR_MISSING_CREDENTIALS');\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (wallet) {\n\t\t\t\tvar walletsession = wallet._getSession();\n\t\t\t\tfetchsession = await this._getChildSessionOnScheme(walletsession, scheme);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfetchsession = await this._getChildSessionOnScheme(session, scheme);\n\t\t\t}\n\t\t}\n\n\t\treturn fetchsession;\n\t}\n\n\n\n\t//\n\t// Card functions\n\t//\n\n\t// TODO: replace by _apicontrollers.__makeWalletCard for version >= 0.20.18\n\tasync __makeWalletCard(session, wallet, scheme, authname, password, address) {\n\t\t// to create a remote card on a remote wallet, with different schemes\n\t\tvar global = this.global;\n\t\tvar Card = global.getModuleClass('wallet', 'Card');;\n\n\t\tvar cardjson = {};\n\t\tcardjson.authname = authname;\n\t\tcardjson.address = address;\n\t\tcardjson.password = password;\n\n\t\tcardjson.uuid = session.guid();\n\t\tcardjson.label = authname;\n\n\t\tconst card_new =  Card.readFromJson(wallet, scheme, cardjson);\n\n\t\tif (card_new) {\n\t\t\tawait card_new.init();\n\n\t\t\tif (card_new.isLocked()) {\n\t\t\t\tawait card_new.unlock();\n\t\t\t}\n\n\t\t\treturn card_new;\n\t\t}\n\t\telse\n\t\t\tthrow new Error('could not create card');\n\n\t}\n\t\n\tasync _makeWalletCard(session, wallet, scheme, privatekey) {\n\t\t// we make client or remote wallets, depending on the scheme\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('wallet is not defined');\n\n\t\tif (!scheme)\n\t\t\treturn Promise.reject('scheme is not defined');\n\n\n\t\tvar sessionaccount;\n\n\t\tif (privatekey) {\n\t\t\t// create a session account from private key\n\t\t\tif (_apicontrollers.isValidPrivateKey(session, privatekey)) {\n\t\t\t\tsessionaccount = await _apicontrollers.getSessionAccountFromPrivateKey(session, wallet, privatekey);\n\t\t\t}\n\t\n\t\t\tif (!sessionaccount)\n\t\t\t\treturn Promise.reject('not a valid private key');\n\t\n\t\t}\n\t\telse {\n\t\t\t// we generate a key\n\t\t\tvar _privatekey = _apicontrollers.generatePrivateKey();\n\t\t\t\n\t\t\tsessionaccount = await _apicontrollers.getSessionAccountFromPrivateKey(session, wallet, _privatekey);\n\t\n\t\t\tif (!sessionaccount)\n\t\t\t\treturn Promise.reject('could not generate a private key');\n\t\t}\n\n\t\tvar walletsession = wallet._getSession();\n\t\tvar walletuser = walletsession.getSessionUserObject();\n\n\t\tif (!walletuser)\n\t\t\treturn Promise.reject('wallet needs to be unlocked');\n\n\t\t\n\t\tvar address = sessionaccount.getAddress();\n\t\tvar authname = walletuser.getUserName();\n\t\tvar password = null;\n\n\t\t// TODO: replace by _apicontrollers.makeWalletCard for version >= 0.20.18\n\t\t//const card_new =  await _apicontrollers.makeWalletCard(session, wallet, scheme, authname, password, address)\n\t\tconst card_new =  await this.__makeWalletCard(session, wallet, scheme, authname, password, address)\n\t\t.catch(err => {\n\t\t\tconsole.log('error in _makeWalletCard: ' + err);\n\t\t});\n\n\t\tif (card_new) {\n\t\t\tawait card_new.init();\n\n\t\t\tif (card_new.isLocked()) {\n\t\t\t\tawait card_new.unlock();\n\t\t\t}\n\n\t\t\treturn card_new;\n\t\t}\n\t\telse\n\t\t\tthrow new Error('could not create card');\n\t}\n\n\n\t// TODO: replace by _apicontrollers.createWalletCard for version >= 0.20.18\n\tasync _createWalletCard(session, wallet, scheme, privatekey) {\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\n\t\tif (scheme.isRemote() === false)  {\n\t\t\treturn _apicontrollers.createWalletCard(session, wallet, scheme, privatekey);\n\t\t}\n\t\telse {\n\t\t\tvar wallettype = wallet.getWalletType();\n\n\t\t\tswitch(wallettype) {\n\t\t\t\tcase 0:\n\t\t\t\t\treturn Promise.reject('ERR_MISSING_CREDENTIALS');\n\t\t\t\tcase 1:\n\t\t\t\t\tvar walletschemeuuid = wallet.getSchemeUUID();\n\n\t\t\t\t\tif (this._canWalletHandleScheme(wallet, scheme))\n\t\t\t\t\t\treturn this._makeWalletCard(session, wallet, scheme, privatekey);\n\t\t\t\t\telse\n\t\t\t\t\t\treturn Promise.reject('ERR_MISSING_CREDENTIALS');\n\t\t\t\tdefault:\n\t\t\t\t\treturn Promise.reject('wrong wallet type: ' + wallettype);\n\t\t\t}\n\t\n\t\t}\n\n\t}\n\n\tasync _getCardFromAddressOnScheme(wallet, address, scheme, callback) {\n\t\t// TODO: replace for version >= 0.20.7\n\t\tvar schemeuuid = scheme.getSchemeUUID();\n\n\t\treturn wallet.getCardsWithAddress(address).\n\t\tthen((cardarray) => {\n\t\t\tfor (var i = 0; i < (cardarray ? cardarray.length : 0); i++) {\n\t\t\t\tvar cardschemeuuid = cardarray[i].getSchemeUUID();\n\t\t\t\t\n\t\t\t\tif (cardschemeuuid == schemeuuid) {\n\t\t\t\t\treturn cardarray[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthrow new Error('ERR_CARD_NOT_FOUND');\n\t\t});\n\t}\n\n\t//\n\t// Currency functions\n\t//\n\n\t_getAverageTransactionFee(scheme) {\n\t\tvar global = this.global;\n\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\n\t\treturn mvcclientwalletmodule._getAverageTransactionFee(scheme);\n\t}\n\n\n\tasync _createCurrencyAmount(session, currency, position) {\n\t\tvar global = this.global;\n\t\tvar _apicurrencies = this._getCurrenciesAPI();\n\t\treturn _apicurrencies.createCurrencyAmount(session, currency, position);\n\t}\n\n\tasync _createDecimalAmount(session, amount, decimals) {\n\t\tvar global = this.global;\n\t\tvar _apicurrencies = this._getCurrenciesAPI();\n\t\treturn _apicurrencies.createDecimalAmount(session, amount, decimals);\n\t}\n\n\tasync transferCurrencyAmount(sessionuuid, walletuuid, cardfromuuid, cardtouuid, currencyuuid, currencyamount, feelevel = null) {\n\t\tvar global = this.global;\n\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tif (!cardfromuuid)\n\t\t\treturn Promise.reject('from card uuid is undefined');\n\t\t\n\t\tif (!cardtouuid)\n\t\t\treturn Promise.reject('to card uuid is undefined');\n\n\t\tvar CurrencyAmountClass = global.getModuleClass('currencies', 'CurrencyAmount');\n\t\tif ((currencyamount instanceof CurrencyAmountClass) !== true)\n\t\t\treturn Promise.reject('wrong currency amount type');\n\n\t\tvar amount = await currencyamount.toString();\n\n\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\t\tvar _apicontrollers = this._getClientAPI();\n\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\t\t\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\t\t\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\t\t\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\t\t\n\t\tvar fromcard = await wallet.getCardFromUUID(cardfromuuid);\n\t\t\n\t\tif (!fromcard)\n\t\t\treturn Promise.reject('could not find card ' + cardfromuuid);\n\n\t\tvar tocard = await wallet.getCardFromUUID(cardtouuid);\n\t\n\t\tif (!tocard)\n\t\t\treturn Promise.reject('could not find card ' + cardtouuid);\n\t\n\t\n\t\tvar fromaccount = fromcard._getSessionAccountObject();\n\n\t\tif (!fromaccount)\n\t\t\treturn Promise.reject('card has no private key ' + cardfromuuid);\n\t\t\n\t\tvar cardsession = await this._getMonitoredCardSession(session, wallet, fromcard);\n\t\tvar from_card_scheme = fromcard.getScheme();\n\n\t\t// transfer parameters\n\t\tvar toaddress = tocard.getAddress();\n\t\tvar tokenaddress = currency.address;\n\t\tvar tokenamount = amount;\n\t\n\t\t// using token account to make transfer\n/* \t\t\n\t\tvar tokenaccount = await this._getTokenAccountFromAddress(cardsession, fromcard, tokenaddress).catch(err => {});\n\n\t\t// create contact from toaddress\n\t\tvar name = toaddress;\n\t\tvar contactinfo = {};\n\t\tvar tocontact = await _apicontrollers.createContact(cardsession, name, toaddress, contactinfo).catch(err => {});\n\n\t\tawait tokenaccount.transferTo(contact, tokenamount)\n\t\t.catch(err => {\n\t\t\tconsole.log('error in transferCurrencyAmount: ' + err);\n\t\t});\n */\n\n\t\t// using direct call to ERC20 to speed up call\n\t\tvar providerurl = await this._getCurrencyWeb3ProviderUrl(cardsession, currency);\n\t\tvar senderprivatekey = fromaccount.getPrivateKey();\n\t\tvar recipientaddress = toaddress;\n\t\tvar fee  = await _apicontrollers.createSchemeFee(from_card_scheme, feelevel);\n\n\t\tvar txhash = await _apicontrollers.sendERC20Tokens(cardsession, providerurl, tokenaddress, senderprivatekey, recipientaddress, tokenamount, fee)\n\t\t.catch(err => {\n\t\t\tconsole.log('error in transferCurrencyAmount: ' + err);\n\t\t});\n\n\t\tif (!txhash)\n\t\t\treturn Promise.reject('could not send currency tokens');\n\n\t\treturn txhash;\n\t}\n\n\tasync _getCurrencyProvider(session, currency) {\n\t\tif (!session)\n\t\t\treturn Promise.reject('session is undefined');\n\t\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('currency is undefined');\n\t\t\n\t\tvar global = this.global;\n\n\t\tvar currenciesmodule = global.getModuleObject('currencies');\n\n\t\treturn currenciesmodule.getCurrencyProvider(session, currency.uuid);\n\t}\n\n\tasync _getCurrencyOps(session, currency) {\n\t\tif (!session)\n\t\t\treturn Promise.reject('session is undefined');\n\t\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('currency is undefined');\n\t\t\n\n\t\t// we look if the currency has a provider specified\n\t\tvar currency_provider = await this._getCurrencyProvider(session, currency);\n\n\t\tif (currency_provider)\n\t\t\treturn currency_provider.getOps();\n\t\telse\n\t\t\treturn {canpay: false};\n\n\t}\n\n\t// TODO: use currenciesmodule.getCurrencyScheme\n\tasync _getCurrencyScheme(session, currency) {\n\t\tif (!session)\n\t\t\treturn Promise.reject('session is undefined');\n\t\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('currency is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\n\t\t// we look if the currency has a trade scheme specified\n\t\tvar currencyschemeuuid = (currency.scheme_uuid ? currency.scheme_uuid : null );\n\t\tvar scheme;\n\n\t\tif (currencyschemeuuid) {\n\t\t\t// a built-in scheme has been specified in currency definition\n\t\t\tscheme = await _apicontrollers.getSchemeFromUUID(session, currencyschemeuuid)\n\t\t\t.catch(err => {});\n\t\t}\n\t\telse {\n\t\t\t// scheme has probably already been created with web3providerurl\n\t\t\tvar web3url = currency.web3providerurl;\n\t\t\tscheme = await _apicontrollers.getSchemeFromWeb3Url(session, web3url)\n\t\t\t.catch(err => {});\n\n\t\t\tif (!scheme) {\n\t\t\t\t// if not, we create a local scheme now and save it\n\t\t\t\tvar defaultlocalscheme = await _apicontrollers.getDefaultScheme(session, 0);\n\t\t\t\tscheme = await defaultlocalscheme.cloneOnWeb3ProviderUrl(web3url)\n\t\t\t\t.catch(err => {});\n\t\t\t}\n\t\t}\n\n\t\tif (!scheme)\n\t\t\treturn Promise.reject('could not find scheme for currency ' + currency.uuid);\n\n\t\n\t\treturn scheme;\n\t}\n\n\t// TODO: use currenciesmodule.getCurrencyWeb3ProviderUrl\n\tasync _getCurrencyWeb3ProviderUrl(session, currency) {\n\t\tif (currency.web3providerurl)\n\t\t\treturn currency.web3providerurl;\n\t\telse {\n\t\t\tvar scheme = await this._getCurrencyScheme(session, currency);\n\n\t\t\tif (scheme)\n\t\t\t\treturn scheme.getWeb3ProviderUrl();\n\t\t\telse\n\t\t\t\tconsole.log('currency is badly configured ' + currency.uuid);\n\t\t}\n\t}\n\t\n\t_compareUrl(url1, url2) {\n\t\tvar _url1 = (url1 && url1.endsWith('/') ? url1.substring(0, url1.length - 1 ) : url1);\n\t\tvar _url2 = (url2 && url2.endsWith('/') ? url2.substring(0, url2.length - 1 ) : url2);\n\n\t\tif (_url1 && _url2 && (_url1 == _url2))\n\t\treturn true;\n\t\telse\n\t\treturn false;\n\t}\n\n\tasync _findCurrencyFromWeb3ProviderUrl(sessionuuid, web3providerurl) {\n\t\t// we retun the first one, it is unsafe and \n\t\t// direct use of currencyuuidis recommended\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\n\t\tvar currencies = await this.getCurrencies(sessionuuid);\n\n\t\tfor (var i = 0; i < currencies.length; i++) {\n\t\t\tvar currency = currencies[i];\n\n\t\t\tif (currency.web3providerurl) {\n\t\t\t\tif (this._compareUrl(currency.web3providerurl, web3providerurl))\n\t\t\t\treturn currency\n\t\t\t}\n\t\t\telse if (currency.scheme_uuid) {\n\t\t\t\tvar scheme = await _apicontrollers.getSchemeFromUUID(session, currency.scheme_uuid)\n\n\t\t\t\tif ((scheme) && (scheme.getWeb3ProviderUrl() == web3providerurl))\n\t\t\t\t\treturn currency;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconsole.log('currency is badly configured ' + currency.uuid);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync _getPretradeScheme(session, currency) {\n\t\tif (!session)\n\t\t\treturn Promise.reject('session is undefined');\n\t\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('currency is undefined');\n\t\t\n\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\n\t\t// we look if the currency has a pretrade scheme specified\n\t\tvar sessionuuid = session.getSessionUUID();\n\t\tvar pretradeschemeuuid = (currency.pretrade_scheme_uuid ? currency.pretrade_scheme_uuid : null );\n\n\t\tvar scheme = await _apicontrollers.getSchemeFromUUID(session, pretradeschemeuuid)\n\t\t.catch(err => {});\n\n\t\tif (scheme)\n\t\treturn scheme;\n\n\t\t// we return local scheme named firenze as a default, if we can find it\n\t\tvar clientmodule = global.getModuleObject('webclient');\n\n\t\tif (clientmodule.getBuiltinLocalSchemes) {\n\t\t\tvar builtin_local_schemes = clientmodule.getBuiltinLocalSchemes();\n\t\n\t\t\tvar prestradescheme = builtin_local_schemes.firenze;\n\t\t\n\t\t\tif (prestradescheme)\n\t\t\tscheme = await _apicontrollers.getSchemeFromUUID(session, prestradescheme.uuid);\n\t\t}\n\n\n\t\treturn scheme;\n\t}\n\n\tasync _filterCurrencies(session, currencies, walletuuid) {\n\t\tvar _currencies = [];\n\n\t\tfor (var i = 0; i < (currencies ? currencies.length : 0); i++) {\n\t\t\t_currencies.push(currencies[i]);\n\t\t}\n\n\t\tif (walletuuid) {\n\t\t\tvar _apicontrollers = this._getClientAPI();\n\n\t\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid).catch(err => {});\n\n\t\t\tif (wallet) {\n\t\t\t\tvar walletschemeuuid = wallet.getSchemeUUID();\n\t\t\t\tvar array = [];\n\n\t\t\t\tfor (var i = 0; i < (currencies ? currencies.length : 0); i++) {\n\t\t\t\t\tvar currency = currencies[i];\n\n\t\t\t\t\t// if currency has a scheme, check if it is remote and it matches the wallet\n\t\t\t\t\tvar currencyscheme = await this._getCurrencyScheme(session, currency).catch(err => {});\n\n\t\t\t\t\tif (!currencyscheme) continue;\n\t\t\t\t\t\n\t\t\t\t\tif (currencyscheme && (currencyscheme.isRemote())) {\n\t\t\t\t\t\tvar currencyschemeuuid = currencyscheme.getSchemeUUID();\n\t\t\t\t\t\tif (this._canWalletHandleScheme(wallet, currencyscheme)) {\n\t\t\t\t\t\t\tarray.push(currencies[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tarray.push(currencies[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t\n\t\t\t\t_currencies = array;\n\t\t\t}\n\n\t\t}\n\n\t\treturn _currencies;\n\t}\n\n \tasync readLocalCurrencies(sessionuuid) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\n\t\tvar _apicurrencies = this._getCurrenciesAPI();\n\n\t\treturn _apicurrencies.readLocalCurrencies(session);\n\t}\n\n\tasync saveLocalCurrencies(sessionuuid, currencies) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\t\t\t\n\t\tvar _apicurrencies = this._getCurrenciesAPI();\n\n\t\treturn _apicurrencies.saveLocalCurrencies(session, currencies);\t\n\t}\n\n\tasync saveLocalCurrency(sessionuuid, currency) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\n\t\tvar _apicurrencies = this._getCurrenciesAPI();\n\n\t\treturn _apicurrencies.saveLocalCurrency(session, currency);\t\n\t}\n\n \n\n\tasync getCurrencies(sessionuuid, walletuuid) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\n\t\tvar currenciesmodule = global.getModuleObject('currencies');\n\t\tvar current_currencies_timestamp = currenciesmodule.getCurrenciesTimeStamp();\n\n\t\t// look if already stored in the session variables\n\t\tvar currencies = session.getSessionVariable('currencies');\n\n\t\tif (currencies) {\n\t\t\t// verify version is up-to-date\n\t\t\tvar currencies_timestamp = session.getSessionVariable('currencies-timestamp');\n\n\t\t\tif (currencies_timestamp === current_currencies_timestamp) {\n\t\t\t\t// send back copy from cached list\n\t\t\t\tvar _currencies = await this._filterCurrencies(session, currencies, walletuuid);\n\n\t\t\t\treturn _currencies;\n\t\t\t}\n\t\t}\n\t\n\t\t// otherwise retrieve the list of currencies\n\t\tvar global = this.global;\n\n\t\tvar currencies = currenciesmodule.getCurrencies();\n\n\t\tvar array = Object.values(currencies);\n\n\t\t// fill complementary info\n\t\tfor (var i = 0; i < (array ? array.length : 0); i++) {\n\t\t\t// ops\n\t\t\tarray[i].ops = await this._getCurrencyOps(session, array[i])\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\n\t\t\t// pretrade_explorer_url\n\t\t\tvar currency_pretrade_scheme = await this._getPretradeScheme(session, array[i]).catch(e=>{});\n\t\t\tvar currency_pretrade_ethnode_conf = (currency_pretrade_scheme ? currency_pretrade_scheme.getEthNodeServerConfig() : null);\n\n\t\t\tarray[i].pretrade_web3_provider_url = (currency_pretrade_ethnode_conf ? currency_pretrade_ethnode_conf.web3_provider_url : null)\n\t\t\tarray[i].pretrade_explorer_url = (currency_pretrade_ethnode_conf ? currency_pretrade_ethnode_conf.explorerurl : null)\n\t\t}\n\n\t\t// store in session\n\t\tsession.setSessionVariable('currencies', array);\n\t\tsession.setSessionVariable('currencies-timestamp', current_currencies_timestamp);\n\n\t\t// send back a copy\n\t\tvar _currencies = await this._filterCurrencies(session, array, walletuuid);\n\n\t\treturn _currencies;\n\t}\n\t\n\n\tasync getCurrencyFromUUID(sessionuuid, currencyuuid) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tvar currencies = await this.getCurrencies(sessionuuid); // all currencies\n\n\t\tfor (var i = 0; i < currencies.length; i++) {\n\t\t\tif (currencies[i].uuid === currencyuuid) {\n\t\t\t\treturn currencies[i];\n\t\t\t}\n\t\t}\n\t}\n\n\tasync getAllCurrenciesWithAddress(sessionuuid, walletuuid, address) {\n\t\tvar currencies = await this.getCurrencies(sessionuuid, walletuuid);\n\n\t\tvar arr = [];\n\t\tvar tokenaddress = (address ? address.trim().toLowerCase() : null);\n\n\t\tfor (var i = 0; i < (currencies ? currencies.length : 0); i++) {\n\t\t\tlet _currencyaddress = (currencies[i].address ? currencies[i].address.trim().toLowerCase() : null);\n\t\t\tif (_currencyaddress == tokenaddress)\n\t\t\tarr.push(currencies[i]);\n\t\t}\n\n\t\treturn arr;\n\t}\n\n\tasync synchronizeCurrency(sessionuuid, walletuuid, currency) {\n\t\t// to fetch name, symbol,... if it went bad during the first import\n\t\tif (!currency)\n\t\t\treturn Promise.reject('currency is undefined');\n\t\t\n\t\tif (!currency.address)\n\t\t\treturn Promise.reject('currency has not token address');\n\n\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\t\t\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\n\t\tvar currenciesmodule = global.getModuleObject('currencies');\n\n\t\tvar currencyscheme = await currenciesmodule.getCurrencyScheme(session, currency);\n\t\n\t\tif (!currencyscheme)\n\t\t\treturn Promise.reject('could not find scheme of currency ' + currency.uuid);\n\t\t\n\t\tvar childsession = await this._getMonitoredSchemeSession(session, wallet, currencyscheme);\n\n\t\t// get erc20 token contract\n\t\tvar erc20token_contract = await _apicontrollers.importERC20Token(childsession, currency.address);\n\n\t\t// re-fetch main elements\n\t\tcurrency.name = await erc20token_contract.getChainName();\n\t\tcurrency.symbol = await erc20token_contract.getChainSymbol();\n\t\tcurrency.decimals = await erc20token_contract.getChainDecimals();\n\n\t\t// then save currency\n\t\tawait currenciesmodule.saveLocalCurrency(session, currency);\n\n\t\treturn currency;\n\t}\n\n\tasync setCurrencyDescription(sessionuuid, walletuuid, currencyuuid, description) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\t\t\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\t\t\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\n\t\tvar currenciesmodule = global.getModuleObject('currencies');\n\n\t\t// set description\n\t\tcurrency.description = description;\n\t\t\n\t\t// then save currency\n\t\tawait currenciesmodule.saveLocalCurrency(session, currency);\n\n\t\treturn currency;\n\t}\n\n\tasync getCurrenciesFromAddress(sessionuuid, walletuuid, schemeuuid, address) {\n\t\tvar currencies = await this.getCurrencies(sessionuuid, walletuuid);\n\n\t\tvar arr = [];\n\t\tvar tokenaddress = (address ? address.trim().toLowerCase() : null);\n\n\t\tfor (var i = 0; i < (currencies ? currencies.length : 0); i++) {\n\t\t\tlet _currencyaddress = (currencies[i].address ? currencies[i].address.trim().toLowerCase() : null);\n\t\t\tif ((currencies[i].scheme_uuid == schemeuuid) && (_currencyaddress == tokenaddress))\n\t\t\tarr.push(currencies[i]);\n\t\t}\n\n\t\treturn arr;\n\t}\n\n\tasync getTokenCardList(sessionuuid, walletuuid, web3providerurl, tokenaddress) {\n\t\tif (!web3providerurl || !tokenaddress)\n\t\treturn [];\n\n\t\tvar currencies = await this.getCurrencies(sessionuuid, walletuuid);\n\t\tvar _web3providerurl = (web3providerurl.endsWith('/') ? web3providerurl.substring(0, web3providerurl.length - 1 ) : web3providerurl);\n\n\t\t// list of currencies\n\t\tvar arr = [];\n\n\t\tfor (var i = 0; i < (currencies ? currencies.length : 0); i++) {\n\t\t\tvar _currency = currencies[i];\n\t\t\tvar _currency_scheme = await this.getCurrencyScheme(sessionuuid, walletuuid, _currency.uuid).catch(err => {});\n\n\t\t\tvar _web3_provider_url = ( _currency_scheme && _currency_scheme.network && _currency_scheme.network.ethnodeserver ? _currency_scheme.network.ethnodeserver.web3_provider_url : null);\n\t\t\t_web3_provider_url = (_web3_provider_url && _web3_provider_url.endsWith('/') ? _web3_provider_url.substring(0, _web3_provider_url.length - 1 ) : _web3_provider_url);\n\t\t\t\n\t\t\tif (_web3_provider_url && (this._compareUrl(_web3_provider_url, _web3providerurl)) && (_currency.address == tokenaddress))\n\t\t\tarr.push(currencies[i]);\n\t\t}\n\n\t\t// get list of all cards\n\t\tvar cards = [];\n\n\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\tvar _currency = arr[i];\n\t\t\tvar _currency_cards = await this.getCurrencyCardList(sessionuuid, walletuuid, _currency.uuid).catch(err => {});\n\n\t\t\tif (_currency_cards)\n\t\t\tcards = cards.concat(_currency_cards);\n\t\t}\n\n\t\treturn cards;\n\t}\n\n\n\tasync _getCurrencyCardList(session, wallet, currency) {\n\t\tif (!session)\n\t\t\treturn Promise.reject('session is undefined');\n\t\t\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('wallet is undefined');\n\n\t\tif (!currency)\n\t\t\treturn Promise.reject('currency is undefined');\n\n\t\tvar global = this.global;\n\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\n\t\tvar cards = await wallet.getCardList(true);\n\n\t\tvar array = [];\n\n\t\tvar scheme = await this._getCurrencyScheme(session, currency).catch(err => {});\n\n\t\tif (!scheme)\n\t\t\treturn Promise.reject('could not find scheme for currency ' + currency.uuid);\n\n\t\tvar schemeuuid = scheme.getSchemeUUID();\n\t\tvar currencyuuid = currency.uuid;\n\n\t\tfor (var i = 0; i < (cards ? cards.length : 0); i++) {\n\t\t\tvar _crdschemeuuid = cards[i].getSchemeUUID();\n\n\t\t\tif (_crdschemeuuid == schemeuuid) {\n\t\t\t\t// check it is not associated to\n\t\t\t\t// another currency on same schemeuuid\n\t\t\t\t// looking at XtraData\n\t\t\t\tlet xtradata = cards[i].getXtraData('myquote');\n\n\t\t\t\txtradata = (xtradata ? xtradata : {});\n\t\t\t\tlet _crdcurrencyuuid = xtradata.currencyuuid;\n\n\t\t\t\tif (_crdcurrencyuuid && (_crdcurrencyuuid == currencyuuid))\n\t\t\t\tarray.push(cards[i]);\n\t\t\t}\n\t\t}\n\t\t\t\n\t\treturn array;\n\t}\n\n\tasync _getCurrencyCard(session, wallet, currency) {\n\t\tif (!session)\n\t\t\treturn Promise.reject('session is undefined');\n\t\t\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('wallet is undefined');\n\n\t\tif (!currency)\n\t\t\treturn Promise.reject('currency is undefined');\n\n\t\tvar cards = await this._getCurrencyCardList(session, wallet, currency).catch(err => {});\n\t\tvar card;\n\n\t\tif (cards && cards.length) {\n\t\t\t// look if a card is marked as main card\n\t\t\tfor (var i = 0; i < cards.length; i++) {\n\t\t\t\tvar crd = cards[i];\n\n\t\t\t\tvar xtra = crd.getXtraData('myquote');\n\n\t\t\t\tif (xtra && (xtra.maincard === true)) {\n\t\t\t\t\tcard = crd;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\treturn card;\n\t}\n\n\tasync getCurrencyScheme(sessionuuid, walletuuid, currencyuuid) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\t\t\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\t\t\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\t\tvar currenciesmodule = global.getModuleObject('currencies');\n\n\t\tvar scheme = await currenciesmodule.getCurrencyScheme(session, currency);\n\n\t\tvar mvcclienwallet = global.getModuleObject('mvc-client-wallet');\n\n\t\tvar schemeinfo = {uuid: scheme.getSchemeUUID()};\n\n\t\tmvcclienwallet._fillSchemeInfoFromScheme(schemeinfo, scheme);\n\n\t\treturn schemeinfo;\n\t}\n\n\tasync findCardCurrency(sessionuuid, walletuuid, carduuid) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\t\t\n\t\tif (!carduuid)\n\t\t\treturn Promise.reject('card uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\t\t\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\n\t\tvar card = await wallet.getCardFromUUID(carduuid);\n\t\n\t\tif (!card)\n\t\t\treturn Promise.reject('could not find card ' + carduuid);\n\n\t\tlet xtradata = card.getXtraData('myquote');\n\n\t\tif (xtradata && xtradata.currencyuuid) {\n\t\t\tlet currency = await this.getCurrencyFromUUID(sessionuuid, xtradata.currencyuuid);\n\n\t\t\treturn currency;\n\t\t}\n\n\t}\n\n\tasync getCurrencyCard(sessionuuid, walletuuid, currencyuuid) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\t\t\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\t\t\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\n\t\tvar card = await this._getCurrencyCard(session, wallet, currency);\n\n\t\tif (!card)\n\t\t\treturn Promise.reject('could not find currency card for wallet ' + walletuuid);\n\n\n\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\n\t\tvar cardinfo = {uuid: card.getCardUUID()};\n\n\t\tmvcclientwalletmodule._fillCardInfo(cardinfo, card);\n\n\t\treturn cardinfo;\n\t}\n\n\tasync setCurrencyCard(sessionuuid, walletuuid, currencyuuid, carduuid) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\t\t\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tif (!carduuid)\n\t\t\treturn Promise.reject('card uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\t\t\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\t\tvar card = await wallet.getCardFromUUID(carduuid);\n\t\n\t\tif (!card)\n\t\t\treturn Promise.reject('could not find card ' + carduuid);\n\n\t\t// sift through cards for currency to set the maincard flag accordingly\n\t\tvar currencycards = await this._getCurrencyCardList(session, wallet, currency).catch(err => {});\n\n\t\tfor (var i = 0; i < (currencycards ? currencycards.length : 0); i++) {\n\t\t\tlet currencycard = currencycards[i];\n\t\t\tlet xtradata = currencycard.getXtraData('myquote');\n\n\t\t\tif (xtradata && (xtradata.maincard === true)) {\n\t\t\t\t// remove flag\n\t\t\t\txtradata.maincard = false;\n\n\t\t\t\tcurrencycard.putXtraData('myquote', xtradata);\n\n\t\t\t\tif (currencycard.isLocked()) {\n\t\t\t\t\tawait currencycard.unlock();\n\t\t\t\t}\n\t\t\n\t\t\t\tawait currencycard.save();\n\t\t\t}\n\n\t\t\tif (currencycard.getCardUUID() === carduuid) {\n\t\t\t\txtradata = (xtradata ? xtradata : {});\n\t\t\t\txtradata.maincard = true;\n\n\t\t\t\tcurrencycard.putXtraData('myquote', xtradata);\n\n\t\t\t\tif (currencycard.isLocked()) {\n\t\t\t\t\tawait currencycard.unlock();\n\t\t\t\t}\n\n\t\t\t\tawait currencycard.save();\n\t\t\t}\n\n\t\t}\n\t\n\t}\n\n\n\tasync createCurrencyCard(sessionuuid, walletuuid, currencyuuid, privatekey) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\n\t\tvar scheme = await this._getCurrencyScheme(session, currency);\n\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\t\t\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\n\t\t// TODO: replace by _apicontrollers.createWalletCard for version >= 0.20.18\n\t\tconst card = await this._createWalletCard(session, wallet, scheme, privatekey); \n\t\t//const card = await _apicontrollers.createWalletCard(session, wallet, scheme, privatekey);\n\n\t\tif (!card)\n\t\t\treturn Promise.reject('could not create card');\n\n\t\tif (card.isLocked()) {\n\t\t\tawait card.unlock();\n\t\t}\n\n\t\t// set it's associated to currencyuuid in XtraData\n\t\tlet xtradata = card.getXtraData('myquote');\n\n\t\txtradata = (xtradata ? xtradata : {});\n\t\txtradata.currencyuuid = currencyuuid;\n\n\t\tcard.putXtraData('myquote', xtradata);\n\n\t\t// save\n\t\tconst bSave = await card.save();\n\n\t\tif (!bSave)\n\t\t\treturn Promise.reject('could not save card');\n\n\t\t// set as maincard if it is the first card created\n\t\tvar currencycards = await this._getCurrencyCardList(session, wallet, currency).catch(err => {});\n\n\t\tif (!currencycards || (currencycards.length == 1)) {\n\t\t\tawait this.setCurrencyCard(sessionuuid, walletuuid, currencyuuid, card.uuid);\n\t\t}\n\n\t\t// return cardinfo\n\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\t\tvar cardinfo = {};\n\n\t\tmvcclientwalletmodule._fillCardInfo(cardinfo, card);\n\t\t\n\t\treturn cardinfo;\n\t}\n\n\tasync makeCurrencyCard(sessionuuid, walletuuid, currencyuuid, carduuid) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\t\t\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tif (!carduuid)\n\t\t\treturn Promise.reject('card uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\t\t\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\t\tvar card = await wallet.getCardFromUUID(carduuid);\n\t\n\t\tif (!card)\n\t\t\treturn Promise.reject('could not find card ' + carduuid);\n\n\n\t\tif (card.isLocked()) {\n\t\t\tawait card.unlock();\n\t\t}\n\n\t\t// set it's associated to currencyuuid in XtraData\n\t\tlet xtradata = card.getXtraData('myquote');\n\n\t\txtradata = (xtradata ? xtradata : {});\n\t\txtradata.currencyuuid = currencyuuid;\n\n\t\tcard.putXtraData('myquote', xtradata);\n\n\t\t// save\n\t\tconst bSave = await card.save();\n\n\t\tif (!bSave)\n\t\t\treturn Promise.reject('could not save card');\n\n\t\t// set as maincard if it is the first card created\n\t\tvar currencycards = await this._getCurrencyCardList(session, wallet, currency).catch(err => {});\n\n\t\tif (!currencycards || (currencycards.length == 1)) {\n\t\t\tawait this.setCurrencyCard(sessionuuid, walletuuid, currencyuuid, card.uuid);\n\t\t}\n\n\t\t// return cardinfo\n\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\t\tvar cardinfo = {};\n\n\t\tmvcclientwalletmodule._fillCardInfo(cardinfo, card);\n\t\t\n\t\treturn cardinfo;\n\t}\n\n\tasync getCurrencyCardWithAddress(sessionuuid, walletuuid, currencyuuid, address) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\n\t\tvar scheme = await this._getCurrencyScheme(session, currency);\n\t\t\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\t\t\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\n\t\t// look if we have a card with this address\n\t\t// TODO: uncomment for version >= 0.20.7\n\t\t//var card = await wallet.getCardFromAddressOnScheme(address, scheme)\n\t\tvar card = await this._getCardFromAddressOnScheme(wallet, address, scheme)\n\t\t.catch(err => {\n\t\t\tconsole.log('error in getCurrencyCardWithAddress ' + err);\n\t\t});\n\n\t\tif (card) {\n\t\t\t// return cardinfo\n\t\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\t\t\tvar cardinfo = {};\n\n\t\t\tmvcclientwalletmodule._fillCardInfo(cardinfo, card);\n\t\t\t\n\t\t\treturn cardinfo;\t\n\t\t}\n\t\telse {\n\t\t\t// we create a read-only card\n\t\t\treturn this.createReadOnlyCurrencyCard(sessionuuid, walletuuid, currencyuuid, address);\n\t\t}\n\t}\n\n\n\tasync createReadOnlyCurrencyCard(sessionuuid, walletuuid, currencyuuid, address) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\n\t\tvar scheme = await this._getCurrencyScheme(session, currency);\n\t\t\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\t\t\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\n\t\tlet authname;\n\t\tlet password;\n\n\t\tconst card = await wallet.createCard(scheme, authname, password, address);\n\n\t\tif (!card)\n\t\t\treturn Promise.reject('could not create card');\n\n\t\tvar cardsession = card._getSession();\n\n\t\tif (!cardsession) {\n\t\t\tawait card.init();\n\t\t}\n\n\t\tif (card.isLocked()) {\n\t\t\tawait card.unlock();\n\t\t}\n\n\t\t// set it's associated to currencyuuid in XtraData\n\t\tlet xtradata = card.getXtraData('myquote');\n\n\t\txtradata = (xtradata ? xtradata : {});\n\t\txtradata.currencyuuid = currencyuuid;\n\n\t\tcard.putXtraData('myquote', xtradata);\n\n\t\t// save\n\t\tconst bSave = await card.save();\n\n\t\tif (!bSave)\n\t\t\treturn Promise.reject('could not save card');\n\n\t\t// return cardinfo\n\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\t\tvar cardinfo = {};\n\n\t\tmvcclientwalletmodule._fillCardInfo(cardinfo, card);\n\t\t\n\t\treturn cardinfo;\t\n\t}\n\n\tasync generateCurrencyCard(sessionuuid, walletuuid, currencyuuid) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\n\t\t// we generate a key\n\t\tvar _privatekey = _apicontrollers.generatePrivateKey(session);\n\n\t\treturn this.createCurrencyCard(sessionuuid, walletuuid, currencyuuid, _privatekey);\n\t}\n\n\tasync _getTokenAccountFromAddress(session, card, tokenaddress) {\n\t\tvar tokenaccount = await card.getTokenAccountFromAddress(tokenaddress).catch(err => {});\n\n\t\tif (!tokenaccount) {\n\t\t\tvar token = card.getTokenObject(tokenaddress);\n\n\t\t\tif (card.isLocked()) {\n\t\t\t\tawait card.unlock();\n\t\t\t}\n\n\t\t\ttokenaccount = await card.createTokenAccount(token);\n\t\t\tawait tokenaccount.init();\n\n\t\t\tawait tokenaccount._synchronizeWithERC20TokenContract(session); // saves tokenaccount\n\t\t\t\n\t\t\t// var description = 'my quote token account';\n\t\t\t//tokenaccount.setLabel(description);\n\t\t\t//await tokenaccount.save();\n\t\t}\n\n\t\treturn tokenaccount;\n\t}\n\n\tasync getCurrencyPosition(sessionuuid, walletuuid, currencyuuid, carduuid) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\t\t\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\n\t\t\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\t\tvar tokenaddress = currency.address;\n\n\t\t// using token account to get position\n/* \t\tvar card = await this._getCurrencyCard(session, wallet, currency).catch(err => {});\n\n\t\tvar tokenaccount = await this._getTokenAccountFromAddress(session, card, tokenaddress).catch(err => {});\n\n\t\tconst position = (tokenaccount ? await tokenaccount.getPosition().catch(err => {}) : 0);\n */\n\n\t\t// using direct call to ERC20 to speed up result\n\t\tvar cardinfo ;\n\t\t\n\t\tif (!carduuid) {\n\t\t\t// main card\n\t\t\tcardinfo = await this.getCurrencyCard(sessionuuid, walletuuid, currencyuuid);\n\t\t}\n\t\telse {\n\t\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\t\t\tcardinfo = await mvcclientwalletmodule. getCardInfo(sessionuuid, walletuuid, carduuid);\n\t\t}\n\t\t\n\t\t\n\t\tvar cardaddress = cardinfo.address;\n\t\t\n\t\t// get a childsession on currency scheme\n\t\tvar valuescheme = await this._getCurrencyScheme(session, currency);\n\t\tvar childsession = await this._getMonitoredSchemeSession(session, wallet, valuescheme);\n\n\t\tconst position = await _apicontrollers.getAddressERC20Position(childsession, null, tokenaddress, cardaddress)\n\t\t.catch((err) => {\n\t\t\tposition = 0;\n\t\t});\n\n\t\treturn this._createCurrencyAmount(childsession, currency, position);\n\t}\n\n\tasync getCurrencyCardCredits(sessionuuid, walletuuid, currencyuuid) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\t\t\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\n\t\t\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\n\t\tvar card = await this._getCurrencyCard(session, wallet, currency);\n\t\tvar carduuid = card.getCardUUID();\n\t\tvar schemeuuid = card.getSchemeUUID();\n\n\t\tvar credits = await mvcclientwalletmodule.getCreditBalance(sessionuuid, walletuuid, carduuid);\n\n\t\tcredits.threshold = await mvcclientwalletmodule.getSchemeTransactionUnitsThreshold(sessionuuid, schemeuuid);\n\n\t\treturn credits;\n\t}\n\n\tasync _getMonitoredCardSession(session, wallet, card) {\n\t\tvar cardsession = card._getSession();\n\n/* \t\tvar scheme = card.getScheme();\n\n\t\tif (scheme.isRemote()) {\n\t\t\tif (wallet) {\n\t\t\t\tvar walletschemeuuid = wallet.getSchemeUUID();\n\t\t\t\tvar schemeuuid = scheme.getSchemeUUID();\n\t\n\t\t\t\tif (this._canWalletHandleScheme(wallet, scheme)) {\n\t\t\t\t\t// use wallet session\n\t\t\t\t\tcardsession = wallet._getSession();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n */\n\t\treturn cardsession;\n\t}\n\n\tasync canPayAmount(sessionuuid, walletuuid, carduuid, toaddress, currencyuuid, amount, feelevel = null) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\t\t\n\t\tif (!carduuid)\n\t\t\treturn Promise.reject('card uuid is undefined');\n\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\t\t\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\t\t\t\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\t\t\n\t\tvar card = await wallet.getCardFromUUID(carduuid);\n\t\n\t\tif (!card)\n\t\t\treturn Promise.reject('could not find a card for currency ' + currencyuuid);\n\t}\n\n\n\tasync payAmount(sessionuuid, walletuuid, carduuid, toaddress, currencyuuid, amount, feelevel = null) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\t\t\n\t\tif (!carduuid)\n\t\t\treturn Promise.reject('card uuid is undefined');\n\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\t\t\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\t\t\t\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\t\t\n\t\tvar card = await wallet.getCardFromUUID(carduuid);\n\t\n\t\tif (!card)\n\t\t\treturn Promise.reject('could not find a card for currency ' + currencyuuid);\n\t\n\t\t// we top up card to be sure to be able sending a transaction\n\t\t// (if we need to have credit units)\n\t\tvar ops = await this._getCurrencyOps(session, currency);\n\n\t\tif ((ops.cantxfree !== true) && (ops.cantopup === true)) {\n\t\t\tconst topupinfo = await mvcclientwalletmodule.topUpCard(sessionuuid, walletuuid, carduuid)\t\t\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log('error in payAndReport: ' + err);\n\t\t\t});\n\t\n\t\t\tif ((!topupinfo) || (!topupinfo.top) ) {\n\t\t\t\tconsole.log('no top up for card ' + carduuid);\n\t\t\t}\n\t\t}\n\n\n\t\t// transfer parameters\n\t\tvar tokenaddress = currency.address;\n\t\tvar tokenamount = amount;\n\t\tvar tokenamount_string = tokenamount.toString(); // use string to avoid \"fault='overflow', operation='BigNumber.from'\"\n\n\t\n\t\t// using token account to make transfer\n/* \t\t\n\t\tvar tokenaccount = await this._getTokenAccountFromAddress(session, card, tokenaddress).catch(err => {});\n\n\t\t// create contact from toaddress\n\t\tvar name = toaddress;\n\t\tvar contactinfo = {};\n\t\tvar tocontact = await _apicontrollers.createContact(session, name, toaddress, contactinfo).catch(err => {});\n\n\t\tawait tokenaccount.transferTo(contact, tokenamount_string);\n */\n\n\t\t// using direct call to ERC20 to speed up call\n\t\tvar cardsession = await this._getMonitoredCardSession(session, wallet, card);\n\t\tvar fromaccount = card._getSessionAccountObject();\n\n\t\tvar scheme = await this._getCurrencyScheme(session, currency);\n\n\t\tvar providerurl = await this._getCurrencyWeb3ProviderUrl(session, currency);\n\t\tvar fee  = await _apicontrollers.createSchemeFee(scheme, feelevel);\n\t\tvar value = 0;\n\n\t\tconst credits = await mvcclientwalletmodule.getCreditBalance(sessionuuid, walletuuid, carduuid)\n\t\t.catch(err => {\n\t\t\tconsole.log('error in payAmount: ' + err);\n\t\t});\n\n\t\tconsole.log('sending tokens with gasLimit ' + fee.gaslimit + ' and gas price ' + fee.gasPrice);\n\t\tconsole.log('(fee.gaslimit * fee.gasPrice + value) is ' + (fee.gaslimit * fee.gasPrice + value));\n\t\tconsole.log('transaction credit before transfer is ' + (credits ? credits.transactioncredits : 'unknown'));\n\n\t\tif (credits && (credits.transactioncredits < (fee.gaslimit * fee.gasPrice + value))) {\n\t\t\tconsole.log('WARNING: transaction credit is lower than (fee.gaslimit * fee.gasPrice + value). You should raise transaction_units_min for corresponding scheme');\n\t\t}\n\n/* \t\t\n\t\tvar senderprivatekey = fromaccount.getPrivateKey();\n\t\tvar recipientaddress = toaddress;\n\n\t\tvar txhash = await _apicontrollers.sendERC20Tokens(cardsession, providerurl, tokenaddress, senderprivatekey, recipientaddress, tokenamount, fee);\n\n */\t\t\n\t\t// using transferERC20Tokens instead of sendERC20Tokens\n\t\t//var ethtx = _apicontrollers.createEthereumTransaction(cardsession, fromaccount);\n\t\tvar ethtx = await this._createMonitoredEthereumTransaction(wallet, card, cardsession, fromaccount);\n\t\t\t\n\t\tethtx.setToAddress(toaddress);\n\t\tethtx.setGas(fee.gaslimit);\n\t\tethtx.setGasPrice(fee.gasPrice);\n\n\t\tethtx.setValue(value);\n\n\t\tvar txhash = await _apicontrollers.transferERC20Tokens(cardsession, providerurl, tokenaddress, tokenamount_string, ethtx);\n\n\t\treturn txhash;\n\t}\n\n\tasync payAndReport(sessionuuid, walletuuid, toaddress, currencyuuid, amount) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\t\tvar cardinfo = await this.getCurrencyCard(sessionuuid, walletuuid, currencyuuid);\n\n\t\tif (!cardinfo)\n\t\t\treturn Promise.reject('could not find a card for currency ' + currencyuuid);\n\n\t\tvar txhash = await this.payAmount(sessionuuid, walletuuid, cardinfo.uuid, toaddress, currencyuuid, amount);\n\n\t\t// we ask provider to make a payment url\n\t\tvar currency_provider = await this._getCurrencyProvider(session, currency);\n\n\t\tif (!currency_provider)\n\t\t\treturn Promise.reject('currency has no provider');\n\n\t\tvar paymenturl = currency_provider.getPaymentUrl(txhash);\n\n\t\treturn paymenturl;\n\t}\n\n\tasync getCurrencyTotalSupply(sessionuuid, walletuuid, currencyuuid) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\t\t\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\n\t\t\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\t\tvar currenciesmodule = global.getModuleObject('currencies');\n\n\t\tvar currencyscheme = await currenciesmodule.getCurrencyScheme(session, currency);\n\t\tvar childsession = await this._getMonitoredSchemeSession(session, wallet, currencyscheme);\n\n\n\t\tvar tokenaddress = currency.address;\n\n\t\tvar erc20token = await _apicontrollers.importERC20Token(childsession, tokenaddress);\n\n\t\treturn erc20token.getChainTotalSupply();\n\t}\n\n\tasync _getAddressFromTokenUUID(session, wallet, card, tokenuuid) {\n\t\tvar global = this.global;\n\n\t\tif (card.isLocked()) {\n\t\t\tawait card.unlock();\n\t\t}\n\n\t\tvar erc20tokenaccount = await card.importTokenAccount(tokenuuid);\n\t\t// this creates a token account associated to carduuid\n\n\t\tif (!erc20tokenaccount)\n\t\t\treturn Promise.reject('could not find token ' + tokenuuid);\n\n\t\tvar token = erc20tokenaccount.getToken();\n\n\t\tvar tokenaccountsession = erc20tokenaccount._getSession();\n\n\t\tvar erc20tokencontract = token._getERC20TokenContract(tokenaccountsession);\n\t\tvar contractinterface = erc20tokencontract.getContractInterface();\n\t\tvar contractinstance = contractinterface.getContractInstance();\n\n\t\t// TODO: remove once EthereumNodeAccessInstance._findTransactionFromUUID(transactionuuid) is fixed\n\t\tvar ethereumnodeaccessinstance = contractinstance.getEthereumNodeAccessInstance();\n\n\t\tethereumnodeaccessinstance.MYWIDGET_OVERLOAD = Date.now();\n\t\tethereumnodeaccessinstance._findTransactionFromUUID = (transactionuuid) => {\n\t\t\tvar self = ethereumnodeaccessinstance;\n\n\t\t\t// get local list\n\t\t\tvar jsonarray = self._readTransactionLogs();\n\n\t\t\tfor (var i = 0; i < (jsonarray ? jsonarray.length : 0); i++) {\n\t\t\t\tvar tx_log = jsonarray[i];\n\t\t\t\tif (tx_log.transactionuuid == transactionuuid)\n\t\t\t\treturn tx_log.transactionHash;\n\t\t\t}\n\n\t\t};\n\n\t\t// END\n\n\t\tvar tokenaddress = await contractinterface.getAddressFromTransactionUUID(tokenuuid);\n\n\t\treturn tokenaddress;\n\t}\n\n\tasync importCurrencyFromTokenUUID(sessionuuid, walletuuid, carduuid, tokenuuid) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\t\t\n\t\tif (!carduuid)\n\t\t\treturn Promise.reject('card uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\t\t\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\n\t\tvar card = await wallet.getCardFromUUID(carduuid);\n\t\n\t\tif (!card)\n\t\t\treturn Promise.reject('could not find card ' + carduuid);\n\n\t\tvar tokenaddress = await this._getAddressFromTokenUUID(session, wallet, card, tokenuuid);\n\n\t\tif (!tokenaddress)\t\t\t\n\t\t\treturn Promise.reject('could not find address for token ' + tokenuuid);\n\n\t\treturn this.importCurrencyFromTokenAddress(sessionuuid, walletuuid, carduuid, tokenaddress);\n\t}\n\n\tasync importCurrencyFromTokenAddress(sessionuuid, walletuuid, carduuid, tokenaddress) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\t\t\n\t\tif (!carduuid)\n\t\t\treturn Promise.reject('card uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\t\t\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\n\t\tvar card = await wallet.getCardFromUUID(carduuid);\n\t\n\t\tif (!card)\n\t\t\treturn Promise.reject('could not find card ' + carduuid);\n\n\t\tvar cardsession = await this._getMonitoredCardSession(session, wallet, card);\n\n\n\t\t// get erc20 token contract\n\t\tvar erc20token_contract = await _apicontrollers.importERC20Token(cardsession, tokenaddress);\n\n\t\tvar currency = {uuid: session.guid(), address: tokenaddress, xtra_data: {origin: 'import-from-token-address'}};\n\n\t\tcurrency.name = await erc20token_contract.getChainName();\n\t\tcurrency.symbol = await erc20token_contract.getChainSymbol();\n\t\tcurrency.decimals = await erc20token_contract.getChainDecimals();\n\n\t\tcurrency.scheme_uuid = card.getSchemeUUID();\n\t\tcurrency.ops = {canpay: true};\n\t\tcurrency.provider = 'provider.js';\n\n\t\t// save currency\n\t\tawait this.saveLocalCurrency(sessionuuid, currency);\n\n\t\t// make card as a currency card for this new currency\n\t\tvar currencyuuid = currency.uuid;\n\n\t\tawait this.makeCurrencyCard(sessionuuid, walletuuid, currencyuuid, carduuid);\n\n\t\treturn currency;\n\t}\n\n\n\t_getSchemeNetworkConfig(scheme) {\n\t\tvar network = scheme.getNetworkConfig();\n\n\t\treturn network;\n\t}\n\n\n\tasync getCurrencyCardList(sessionuuid, walletuuid, currencyuuid) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\t\t\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\n\t\tvar cards = await this._getCurrencyCardList(session, wallet, currency).catch(err => {});\n\n\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\t\tvar array = [];\n\t\t\t\t\n\t\tfor (var i = 0; i < (cards ? cards.length : 0); i++) {\n\t\t\tvar carduuid = cards[i].getCardUUID();\n\t\t\tvar cardinfo = {uuid: carduuid};\n\t\t\t\n\t\t\tmvcclientwalletmodule._fillCardInfo(cardinfo, cards[i]);\n\t\t\t\n\t\t\tarray.push(cardinfo);\n\t\t}\n\t\t\n\t\treturn array;\n\t}\n\n\tasync getCurrencySchemeInfo(sessionuuid, currencyuuid) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\t\tvar global = this.global;\n\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\n\t\tvar scheme = await this._getCurrencyScheme(session, currency);\n\n\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\n\t\tvar schemeinfo = {uuid: scheme.getSchemeUUID()};\n\t\t\n\t\tmvcclientwalletmodule._fillSchemeInfoFromScheme(schemeinfo, scheme);\n\n\t\treturn schemeinfo;\n\t}\n\n\tasync getPretradeSchemeInfo(sessionuuid, currencyuuid) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\t\tvar global = this.global;\n\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\t\t\n\n\t\tvar pretradescheme = await this._getPretradeScheme(session, currency);\n\n\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\n\t\tvar pretradeschemeinfo = {uuid: pretradescheme.getSchemeUUID()};\n\t\t\n\t\tmvcclientwalletmodule._fillSchemeInfoFromScheme(pretradeschemeinfo, pretradescheme);\n\n\t\treturn pretradeschemeinfo;\n\t}\n\n\tasync getPretradeWeb3Url(sessionuuid, currencyuuid) {\n\t\tvar pretrade_schemeinfo = await this.getPretradeSchemeInfo(sessionuuid, currencyuuid);\n\t\n\t\tvar pretrade_web3providerurl = pretrade_schemeinfo.network.ethnodeserver.web3_provider_url;\n\n\t\treturn pretrade_web3providerurl;\n\t}\n\n\tasync _getCardsOnScheme(wallet, scheme, bRefresh = true) {\n\t\tvar schemeuuid = scheme.getSchemeUUID();\n\t\tvar cardlist = await wallet.getCardList(bRefresh);\n\n\t\tvar array = [];\n\n\t\tfor (var i = 0; i < (cardlist ? cardlist.length : 0); i++) {\n\t\t\tvar card = cardlist[i];\n\n\t\t\tif (card.getSchemeUUID() === schemeuuid)\n\t\t\t\tarray.push(card);\n\t\t}\n\n\t\treturn array;\n\t}\n\n\tasync getPretradeCard(sessionuuid, walletuuid, carduuid, currencyuuid) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\t\t\n\t\tif (!carduuid)\n\t\t\treturn Promise.reject('card uuid is undefined');\n\t\t\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\t\tvar _apicontrollers = this._getClientAPI();\n\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\t\t\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\t\t\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\n\t\t\n\t\tvar card = await wallet.getCardFromUUID(carduuid).catch(err => {});\n\t\t\n\t\tif (!card)\n\t\t\treturn Promise.reject('could not find card ' + carduuid);\n\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\t\tvar pretradecardinfo;\n\n\t\t// for the moment we usually return a card on firenze\n\t\tvar pretradescheme = await this._getPretradeScheme(session, currency);\n\t\t\n\t\tvar cards = await this._getCardsOnScheme(wallet, pretradescheme, true)\n\t\t.catch(err => {\n\t\t\tconsole.log('error in getPretradeCard: ' + err);\n\t\t});\n\n\t\tif (cards) {\n\t\t\tfor (var i = 0; i < cards.length; i++) { \n\t\t\t\tlet pretradecard = cards[i];\n\n\t\t\t\tif (pretradecard.isLocked()) {\n\t\t\t\t\tawait pretradecard.unlock();\n\t\t\t\t}\n\n\t\t\t\tvar canPretradeCardSign = await pretradecard.canSign();\n\n\t\t\t\tif (canPretradeCardSign === true) {\n\t\t\t\t\tpretradecardinfo = await mvcclientwalletmodule.getCardInfo(sessionuuid, walletuuid, pretradecard.getCardUUID());\n\t\t\t\t\tbreak;\n\t\t\t\t}\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n/* \t\tvar pretradeschemeuuid = pretradescheme.getSchemeUUID();\n\t\t\n\t\tvar cardinfos = await mvcclientwalletmodule.getCardList(sessionuuid, walletuuid, true)\n\t\t.catch(err => {\n\t\t\tconsole.log('error in getPretradeCard: ' + err);\n\t\t});\n\n\t\tif (cardinfos) {\n\t\t\tfor (var i = 0; i < cardinfos.length; i++) {\n\n\t\t\t\tif (pretradeschemeuuid === cardinfos[i].schemeuuid) {\n\t\t\t\t\t// check card can sign\n\t\t\t\t\tlet pretradecard = await wallet.getCardFromUUID(cardinfos[i].uuid).catch(err => {});\n\n\t\t\t\t\tif (pretradecard) {\t\t\t\n\t\t\t\t\t\tif (pretradecard.isLocked()) {\n\t\t\t\t\t\t\tawait pretradecard.unlock();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar canPretradeCardSign = await pretradecard.canSign();\n\n\t\t\t\t\t\tif (canPretradeCardSign === true) {\n\t\t\t\t\t\t\tpretradecardinfo = cardinfos[i];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} */\n\n\t\t\n\n\t\tif (!pretradecardinfo) {\n\t\t\tif (card.isLocked()) {\n\t\t\t\tawait card.unlock();\n\t\t\t}\n\t\t\t\t\t\t\n\t\t\tlet canCardSign = await card.canSign();\n\t\t\tlet pretradecard;\n\n\t\t\tif (canCardSign === true) {\n\t\t\t\tvar pretrade_schemeinfo = await this.getPretradeSchemeInfo(sessionuuid, currencyuuid);\n\n\t\t\t\tif (pretrade_schemeinfo.uuid != card.getSchemeUUID()) {\n\t\t\t\t\t// we clone card on pretrade scheme\n\t\t\t\t\tpretradecardinfo = await mvcclientwalletmodule.cloneCard(sessionuuid, walletuuid, carduuid, pretrade_schemeinfo.uuid);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// we return the card it self\n\t\t\t\t\tpretradecardinfo = await mvcclientwalletmodule.getCardInfo(sessionuuid, walletuuid, carduuid);\n\t\t\t\t}\n\n\t\t\t\tif (!pretradecardinfo)\n\t\t\t\t\treturn Promise.reject('could not clone or pick the main card for pretrade use');\n\n\t\t\t\tpretradecard = await wallet.getCardFromUUID(pretradecardinfo.uuid);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// main card is read-only, we can not use a clone or the card itself\n\t\t\t\t//return Promise.reject('card is read-only, can not create corresponding pretrade card');\n\n\t\t\t\t// let's create a card on the fly\n\t\t\t\tvar _privatekey = _apicontrollers.generatePrivateKey(session);\n\n\t\t\t\tpretradecard = await _apicontrollers.createWalletCard(session, wallet, pretradescheme, _privatekey);\n\n\t\t\t\tif (!pretradecard)\n\t\t\t\t\treturn Promise.reject('could not generate a pretrade card');\n\n\t\t\t}\n\n\t\t\tif (!pretradecard)\n\t\t\t\treturn Promise.reject('could not create a pretrade card');\n\n\t\t\t// mark as pretrade card\n\t\t\tawait this.setPretradeCard(sessionuuid, walletuuid, currencyuuid, pretradecard.uuid);\n\n\t\t\tpretradecardinfo = await mvcclientwalletmodule.getCardInfo(sessionuuid, walletuuid, pretradecard.uuid);\n\n\t\t}\n\n\t\tif (!pretradecardinfo)\n\t\t\treturn Promise.reject('could not find a card to register transactions');\n\n\t\treturn pretradecardinfo;\n\t}\n\n\n\tasync setPretradeCard(sessionuuid, walletuuid, currencyuuid, carduuid) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\t\treturn Promise.reject('wallet uuid is undefined');\n\t\t\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tif (!carduuid)\n\t\t\treturn Promise.reject('card uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\t\t\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\t\tvar card = await wallet.getCardFromUUID(carduuid);\n\t\n\t\tif (!card)\n\t\t\treturn Promise.reject('could not find card ' + carduuid);\n\n\t\t// sift through cards for currency to set the pretradecard flag accordingly\n\t\tvar pretradescheme = await this._getPretradeScheme(session, currency);\n\t\t\n\t\tvar cards = await this._getCardsOnScheme(wallet, pretradescheme, true)\n\t\t.catch(err => {\n\t\t\tconsole.log('error in getPretradeCard: ' + err);\n\t\t});\n\n\t\tif (cards) {\n\t\t\tfor (var i = 0; i < (cards ? cards.length : 0); i++) {\n\t\t\t\tlet card = cards[i];\n\t\t\t\tlet xtradata = card.getXtraData('myquote');\n\t\n\t\t\t\tif (xtradata && (xtradata.pretradecard === true)) {\n\t\t\t\t\t// remove flag\n\t\t\t\t\txtradata.pretradecard = false;\n\t\n\t\t\t\t\tcard.putXtraData('myquote', xtradata);\n\t\n\t\t\t\t\tif (card.isLocked()) {\n\t\t\t\t\t\tawait card.unlock();\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\tawait card.save();\n\t\t\t\t}\n\t\n\t\t\t\tif (card.getCardUUID() === carduuid) {\n\t\t\t\t\txtradata = (xtradata ? xtradata : {});\n\t\t\t\t\txtradata.pretradecard = true;\n\t\n\t\t\t\t\tcard.putXtraData('myquote', xtradata);\n\t\n\t\t\t\t\tif (card.isLocked()) {\n\t\t\t\t\t\tawait card.unlock();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tawait card.save();\n\t\t\t\t}\n\t\n\t\t\t}\n\t\t}\n\t\n\t}\n\n\n\n\t//\n\t// uniswap\n\t//\n\tasync getPriceForCreditUnits(sessionuuid, currencyuuid, creditunits) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\t\t\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\t\tvar swapmodule = global.getModuleObject('uniswap');\n\n\t\tvar scheme = await this._getCurrencyScheme(session, currency);\n\n\t\t// compute corresponding ethereum credits\n\t\tvar ethnodemodule = global.getModuleObject('ethnode');\n\n\t\tvar avg_transaction_fee = this._getAverageTransactionFee(scheme)\n\n\t\tvar weiamount = ethnodemodule.getWeiFromEther(avg_transaction_fee);\n\t\tvar ethamount = await this._createDecimalAmount(session, weiamount, 18);\n\t\tethamount.multiply(creditunits);\n\t\t\n\t\tvar ethcredit = await ethamount.toInteger();\n\n\t\t// token info\n\t\tvar uniswap_v2 = currency.uniswap_v2;\n\t\tuniswap_v2.version = 'uniswap_v2';\n\n\t\tvar token = {};\n\t\ttoken.name = currency.name;\n\t\ttoken.address = currency.address;\n\t\ttoken.symbol = currency.symbol;\n\t\ttoken.decimals = currency.decimals;\n\n\t\tvar weth = {};\n\t\tweth.name = uniswap_v2.gas_name;\n\t\tweth.address = uniswap_v2.gas_address;\n\t\tweth.symbol = uniswap_v2.gas_symbol;\n\t\tweth.decimals = uniswap_v2.gas_decimals;\n\n\t\tvar pricing = await swapmodule.getPriceForOutput(session, scheme, token, weth, ethcredit, uniswap_v2);\n\n\t\tvar priceamount = (pricing.amounts_in ? pricing.amounts_in[0] : null)\n\n\t\tvar price_struct = {};\n\n\t\tprice_struct.creditunits_requested = creditunits;\n\t\tprice_struct.currency_amount = await this._createCurrencyAmount(session, currency, (priceamount ? priceamount : -1));\n\n\t\treturn price_struct;\n\t}\n\n\tasync buyCreditUnits(sessionuuid, walletuuid, carduuid, currencyuuid, creditunits, feelevel = null) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!walletuuid)\n\t\treturn Promise.reject('wallet uuid is undefined');\n\t\n\t\tif (!carduuid)\n\t\treturn Promise.reject('card uuid is undefined');\n\t\n\t\tif (!currencyuuid)\n\t\treturn Promise.reject('currency uuid is undefined');\n\t\n\t\tvar global = this.global;\n\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet');\n\t\tvar _apicontrollers = this._getClientAPI();\n\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\t\t\n\t\tvar wallet = await _apicontrollers.getWalletFromUUID(session, walletuuid);\n\t\t\n\t\tif (!wallet)\n\t\t\treturn Promise.reject('could not find wallet ' + walletuuid);\n\t\t\n\t\tvar card = await wallet.getCardFromUUID(carduuid);\n\t\t\n\t\tif (!card)\n\t\t\treturn Promise.reject('could not find card ' + carduuid);\n\n\t\t\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\t\tvar swapmodule = global.getModuleObject('uniswap');\n\n\t\tvar scheme = await this._getCurrencyScheme(session, currency);\n\n\t\tvar cardsession = await this._getMonitoredCardSession(session, wallet, card);\n\t\tvar fromaccount = card._getSessionAccountObject();\n\n\t\t// compute corresponding ethereum credits\n\t\tvar ethnodemodule = global.getModuleObject('ethnode');\n\n\t\tvar avg_transaction_fee = this._getAverageTransactionFee(scheme)\n\n\t\tvar weiamount = ethnodemodule.getWeiFromEther(avg_transaction_fee);\n\t\tvar ethamount = await this._createDecimalAmount(session, weiamount, 18);\n\t\tethamount.multiply(creditunits);\n\t\t\n\t\tvar ethcredit = await ethamount.toInteger();\n\n\t\t// token info\n\t\tvar uniswap_v2 = currency.uniswap_v2;\n\t\tuniswap_v2.version = 'uniswap_v2';\n\n\t\tvar token = {};\n\t\ttoken.name = currency.name;\n\t\ttoken.address = currency.address;\n\t\ttoken.symbol = currency.symbol;\n\t\ttoken.decimals = currency.decimals;\n\n\t\tvar currencyposition = await this.getCurrencyPosition(sessionuuid, walletuuid, currencyuuid, carduuid);\n\t\tvar tokenamountmax = await currencyposition.toInteger();\n\n\t\tvar weth = {};\n\t\tweth.name = uniswap_v2.gas_name;\n\t\tweth.address = uniswap_v2.gas_address;\n\t\tweth.symbol = uniswap_v2.gas_symbol;\n\t\tweth.decimals = uniswap_v2.gas_decimals;\n\n\t\t// create ethereum transaction object\n\t\t//var ethtx = _apicontrollers.createEthereumTransaction(cardsession, fromaccount);\n\t\tvar ethtx = await this._createMonitoredEthereumTransaction(wallet, card, cardsession, fromaccount);\n\n\t\tethtx.setToAddress(fromaccount.getAddress()); // ask to send credits to card\n\n\t\t// fee\n\t\tvar fee = await _apicontrollers.createSchemeFee(scheme, feelevel);\n\t\t\t\n\t\tethtx.setGas(fee.gaslimit);\n\t\tethtx.setGasPrice(fee.gasPrice);\n\n\t\t// send swap request\n\t\treturn swapmodule.buyEthOnOutput(cardsession, scheme, token, tokenamountmax, weth, ethcredit, uniswap_v2, ethtx);\n\t}\n\n\t//\n\t// utils\n\t//\n\tasync _unformatAmount(session, amountstring, decimals) {\n\t\tif (amountstring === undefined)\n\t\t\treturn;\n\t\t\n\t\tvar _amountstring = amountstring.trim();\n\n\t\t// remove trailing symbol if some\n  \t\tvar index = _amountstring.indexOf(' ');\n\t\tif ( index > 0)\n\t\t_amountstring = _amountstring.substring(0, index);\n\n\t\tif ((!_amountstring) || isNaN(_amountstring))\n\t\t\treturn -1;\n\t\t\n\t\t\n\t\tvar split = amountstring.toString().split(\".\");\n\t\tvar amountnumberstring;\n\t\t\n\t\tif (typeof split[1] === 'undefined') {\n\t\t\t// no decimal\n\t\t\tvar multiplier = '';\n\t\t\tfor (var i = 0; i < decimals; i++) multiplier += '0';\n\t\n\t\t\tamountnumberstring = _amountstring + multiplier;\n\t\t}\n\t\telse {\n\t\t\tvar integerstring = split[0];\n\t\t\t\n\t\t\tif (split[1].length < decimals) {\n\t\t\t\tintegerstring += split[1];\n\t\t\t\t// fill with trailing zeros\n\t\t\t\tfor (var i = 0; i < (decimals - split[1].length); i++)\n\t\t\t\t\tintegerstring += '0';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tintegerstring += split[1].substr(0, decimals);\n\t\t\t}\n\t\t\t\n\t\t\tamountnumberstring = integerstring;\n\t\t}\n\t\t\n\t\treturn amountnumberstring;\n\t}\n\n\tasync _formatAmount(session, amount, decimals, options) {\n\t\tif (amount === undefined)\n\t\t\treturn;\n\t\t\n\t\tvar _inputamountstring = amount.toString();\n\t\tvar amountstring;\n\t\t\n\t\tif (_inputamountstring.length > decimals) {\n\t\t\t// integer part\n\t\t\tvar integerpart = _inputamountstring.substring(0, _inputamountstring.length - decimals);\n\n\t\t\tamountstring = integerpart + '.' + _inputamountstring.substring(_inputamountstring.length - decimals);\n\t\t}\n\t\telse {\n\t\t\tvar leading = '';\n\t\t\tfor (var i = 0; i < (decimals -_inputamountstring.length) ; i++) leading += '0';\n\t\t\tamountstring = '0.' + leading + _inputamountstring;\n\t\t}\n\n\t\tif (options) {\n\t\t\tif (typeof options.showdecimals !== 'undefined') {\n\t\t\t\tif (options.showdecimals === false) {\n\t\t\t\t\t// we remove . and after\n\t\t\t\t\tamountstring = amountstring.substring(0, amountstring.indexOf('.'));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar decimalsshown = (options.decimalsshown ? options.decimalsshown : decimals);\n\t\t\t\t\tamountstring = amountstring.substring(0, amountstring.indexOf('.') + 1 + decimalsshown);\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\treturn amountstring;\n\t}\n\t\n\n\tasync _formatMonetaryAmount(session, amount, symbol, decimals, options) {\n\t\tvar amountstring = await this._formatAmount(session, amount, decimals, options);\n\t\t\n\t\treturn amountstring + ' ' + symbol;\n\t}\n\n\tasync _formatTokenAmount(session, tokenamount, token, options) {\n\t\t// TODO: unsupported calls that would need to be\n\t\t// wrapped up in a token.init function\n\t\tvar erc20contrat = token._getERC20TokenContract(session); // necessary for _synchronize\n\t\tawait token._synchronizeERC20TokenContract(session);\n\t\t// TODO: end\n\t\t\n\t\tvar decimals = token.getDecimals();\n\t\tvar symbol = token.getSymbol();\n\t\t\n\t\tvar amountstring = await this._formatMonetaryAmount(session, tokenamount, symbol, decimals, options);\n\t\t\n\t\treturn amountstring;\n\t}\n\n\tasync getDecimalAmount(sessionuuid, amount, decimals = 18) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\n\t\treturn this._createDecimalAmount(session, amount, decimals);\n\t}\n\n\tasync getCurrencyAmount(sessionuuid, currencyuuid, amount) {\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\t\t\n\t\tvar global = this.global;\n\t\tvar _apicontrollers = this._getClientAPI();\n\n\t\tvar mvcclientwalletmodule = global.getModuleObject('mvc-client-wallet')\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\t\t\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\t\tvar decimals = currency.decimals;\n\t\tlet tokenamountstring;\n\t\t\n\t\tif (typeof amount === 'string'){\n\t\t\ttokenamountstring = await this._unformatAmount(session, amount, decimals);\n\t\t}\n\t\telse if (Number.isInteger(amount)) {\n\t\t\ttokenamountstring = mvcclientwalletmodule.formatAmount(amount, decimals)\n\t\t} \n\t\telse {\n\t\t\tlet isFloat = (n) => {\n\t\t\t\treturn Number(n) === n && n % 1 !== 0;\n\t\t\t};\n\n\t\t\tif (isFloat(amount)) {\n\t\t\t\tlet amountstring = amount.toString();\n\t\t\t\ttokenamountstring = await this._unformatAmount(session, amountstring, decimals);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn Promise.reject('amount is not correct: ' + amount);\n\t\t\t}\n\t\t}\n\n\t\treturn this._createCurrencyAmount(session, currency, tokenamountstring);\n\t}\n\t\n\tasync formatCurrencyAmount(sessionuuid, currencyuuid, currencyamount, options) {\n\t\tvar global = this.global;\n\n\t\tif (!sessionuuid)\n\t\t\treturn Promise.reject('session uuid is undefined');\n\t\t\n\t\tif (!currencyuuid)\n\t\t\treturn Promise.reject('currency uuid is undefined');\n\n\t\tvar CurrencyAmountClass = global.getModuleClass('currencies', 'CurrencyAmount');\t\t\n\t\tif ((currencyamount instanceof CurrencyAmountClass) !== true)\n\t\treturn Promise.reject('wrong currency amount type');\n\t\t\n\t\tvar _apicontrollers = this._getClientAPI();\n\t\n\t\tvar session = await _apicontrollers.getSessionObject(sessionuuid);\n\t\n\t\tif (!session)\n\t\t\treturn Promise.reject('could not find session ' + sessionuuid);\n\t\t\n\t\tvar currency = await this.getCurrencyFromUUID(sessionuuid, currencyuuid);\n\t\t\n\t\tif (!currency)\n\t\t\treturn Promise.reject('could not find currency ' + currencyuuid);\n\n\t\tvar _options = (options ? options : {showdecimals: true, decimalsshown: 2});\n\n\t\t// TEST\n/* \t\tvar currencyscheme = await this._getCurrencyScheme(session, currency);\n\t\tvar tokenaddress = currency.address;\n\n\t\tvar token = await currencyscheme.getTokenObject(tokenaddress);\n\t\t\n\t\tvar currencyamountstring = await this._formatTokenAmount(session, tokenamount, token, _options);\n */\t\t// TEST: end\n\n \t\tvar tokenamountstring = await currencyamount.toString();\n\t\tvar currencyamountstring = await this._formatMonetaryAmount(session, tokenamountstring, currency.symbol, currency.decimals, _options);\n\n\t\treturn currencyamountstring;\n\t}\n}\n\nif ( typeof window !== 'undefined' && typeof window.GlobalClass !== 'undefined' && window.GlobalClass ) {\n\tvar _GlobalClass = window.GlobalClass;\n}\nelse if (typeof window !== 'undefined') {\n\tvar _GlobalClass = ( window && window.simplestore && window.simplestore.Global ? window.simplestore.Global : null);\n}\nelse if (typeof global !== 'undefined') {\n\t// we are in node js\n\tvar _GlobalClass = ( global && global.simplestore && global.simplestore.Global ? global.simplestore.Global : null);\n}\n\n_GlobalClass.getGlobalObject().registerModuleObject(new Module());\n\n//dependencies\n_GlobalClass.getGlobalObject().registerModuleDepency('mvc-currencies', 'common');\n\n\n"],"mappings":"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"}