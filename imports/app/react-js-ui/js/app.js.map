{"version":3,"file":"app.js","names":["AppStore","App","props","console","log","exec_env","EXEC_ENV","current_version","theapp","basename","BASE_NAME","updatetime","mvcmodule","mvcmyquote","mvcmypwa","nav_states","initial_url","settings","Object","create","varmap","boot_webapp","window_listeners","state","name","loading","bodyText","_globalscope","window","React_Client_Wallet","require","react_client_wallet","getObject","init","react_client_wallet_init","getMvcAPI","clientglobal","getGlobalObject","setAppObject","Client","clientmodule","muteConsoleLog","execution_env","getSubDomain","subdomain","loadConfig","setNameSpace","setClientModuleObject","getModuleObject","getCleanUrl","cleanurl","setContractPathRootUri","Root","loadRoutes","simplestore","app","env","setExecutionEnvironment","default_first_boot","initprod","this_boot","version","time","Date","now","readSettings","initProdEnvironment","err","putSettings","newprodenvtime","getTime","last_update","initial_time","webapp_name","webapp_firstboot","newwebappprodenvtime","start","url","location","href","urlParams","URLSearchParams","search","sessionuuid","get","wallet","setVariable","checkBrowser","setState","ischrome","isChrome","fullBrowserVersion","deviceDetect","JSON","stringify","json","Promise","resolve","reject","res","lastrefresh","_setState","signalEvent","key","value","_root","getVariable","_checkOnline","_checkWalletUnlocked","_resetWallet","_getDeviceWallet","walletuuid","_isDeviceWallet","_openDeviceWallet","_closeDeviceWallet","store","persistor","message","alert","route","params","steps","split","current_nav_state","target","reached","pushNavigationState","_gotoRoute","refreshPage","URL","parse","query","b64url","_encodedurl","_url","decodebase64","gotoUrl","Error","hexurl","decodehex","_gotoUrl","getStartParameters","start_parameters","returnurl","_return_url","startsWith","currencyuuid","_openCurrencyCard","signingkey","options","_createCurrencyCard","_getCurrencyFeeLevel","web3providerurl","_createLocalCard","schemeuuid","address","_openLocalCard","_gotoMyQuotePage","dataobject","type","txhash","_getMyQuoteDataObject","_getStartParameters","_getStartDataObject","_onEmptyStartDataObject","indexOf","slice","fullurl","hostname","ipformat","match","sharelink","sharelinkmessage","to","subject","QS","applink","body","linkformat","apphexlink","Buffer","from","toString","sendEmail","encodeURIComponent","cc","bcc","cardaddress","basetokenuri","gotoRoute","_logout","resetHref","localStorage","clear","logout","length","navstate","push","defaultval","_getCurrentNavigationState","back","gotoHome","event_name","func","uuid","addEventListener","removeEventListener","eventname","data","event","CustomEvent","detail","dispatchEvent","str","t","guid","s4","Math","floor","random","substring","ms","setTimeout","_Buffer","e","_getBufferClass","b64","hex","React","Component"],"sources":["../../../../../../../imports/app/react-js-ui/js/app.js"],"sourcesContent":["import React from 'react';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/lib/integration/react';\n\nimport { store, persistor } from './src/react-view/store/store.js';\n\n\nimport logo from '../assets/logo.svg';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../css/app.css';\n\nimport {isChrome, fullBrowserVersion, deviceDetect} from 'mobile-device-detect';\n\nimport SplashScreen from './src/react-view/screens/splash/splash.js';\nimport Root from './src/react-view/screens/root/root.js';\n\n\nclass AppStore {\n} \n\nclass App extends React.Component {\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tconsole.log('App constructor called');\n\t\t\n\t\tthis.exec_env = App.EXEC_ENV;\n\t\tthis.current_version = '0.15.42.2022.10.03';\n\n\t\tApp.theapp = this;\n\n\t\tthis.basename = (App.BASE_NAME ? App.BASE_NAME : \"my-pwa\");\n\t\tthis.updatetime = 'August 30, 2022';\n\n\t\tthis.App = App;\n\t\tthis.mvcmodule = null;\n\t\tthis.mvcmyquote = null;\n\t\tthis.mvcmypwa = null;\n\t\t\n\t\tthis.nav_states = [{}];\n\t\tthis.initial_url = null;\n\n\t\tthis.settings = Object.create(null);\n\n\n\t\tthis.varmap = Object.create(null);\n\n\t\tthis.boot_webapp = {};\n\t\t\n\t\tthis.window_listeners = {};\n\t\t\n\t\tthis.state = {\n\t\t\tname: 'PoA wallets',\n\t\t\tloading: true,\n\t\t\tbodyText: 'loading'\n\t\t};\n\t}\n\t\n\tasync onLoaded() {\n\t\tvar _globalscope = window;\n\n\t\tconsole.log('App.onLoaded called');\n    \n\t\t// mvc module\n\n\t\t// @primusmoney/react_client_wallet\n\t\tvar React_Client_Wallet = require('@primusmoney/react_client_wallet');\n\n\t\tvar react_client_wallet = React_Client_Wallet.getObject();\n\n\t\tvar react_client_wallet_init = await react_client_wallet.init();\n\n\t\t// mvc module (used by some ModuleObject for communicating with app)\n\t\tvar mvcmodule = react_client_wallet.getMvcAPI();\n\t\tvar clientglobal = react_client_wallet.getGlobalObject();\n\n\t\t// set app object\n\t\tmvcmodule.setAppObject(this);\n\n\t\tthis.mvcmodule = mvcmodule;\n\n\t\tif (!AppStore.mvcmodule){\n\t\t\t// because App can be constructed multiple times\n\t\t\tAppStore.mvcmodule = this.mvcmodule;\n\t\t}\n\n\t\t// set client module\n\t\tvar Client = require('../../js/src/web-client.js').default;\n\t\tvar clientmodule = Client.getObject();\n\n\t\tif (this.exec_env === 'prod') {\n\t\t\tclientglobal.muteConsoleLog();\n\t\t}\n\t\telse if (this.exec_env === 'dev') {\n\t\t\tclientmodule.execution_env = 'dev';\n\t\t}\n\n\t\t// load additional modules (currencies api)\n\t\trequire('../../includes/mvc-api/module-load.js');\n\n\t\t// boot webapp (before initializing clientmodule)\n\t\t\n\t\t// GET subdomain (if any)\n\t\tvar subdomain = await this.getSubDomain();\n\n\t\tvar boot_webapp;\n\t\t\n\t\tif (subdomain) {\n\t\t\t// check is a sub-folder defines a specific boot (and confi) environment\n\t\t\tboot_webapp = await clientmodule.loadConfig('./' + subdomain + '/boot-webapp');\n\n\t\t\tif (boot_webapp) {\n\t\t\t\t// set namespace in clientmodule\n\t\t\t\tclientmodule.setNameSpace(subdomain);\n\t\t\t}\n\t\t}\n\n\n\t\t// init client module after currencies module is loaded\n\t\tawait clientmodule.init();\n\t\tthis.mvcmodule.setClientModuleObject(clientmodule);\n\n\n\t\t// create mvc myquote\n\t\trequire('./src/model/myquote/module-load.js');\n\t\tthis.mvcmyquote = clientglobal.getModuleObject('mvc-myquote');\n\t\tthis.mvcmypwa = clientglobal.getModuleObject('mvc-myquote');\n\n\t\tif (!AppStore.mvcmyquote){\n\t\t\t// because App can be constructed multiple times\n\t\t\tAppStore.mvcmyquote = this.mvcmyquote;\n\t\t}\n\n\t\t// set cleanurl as root uri for contracts in mvcmyquote\n\t\tvar cleanurl = await this.getCleanUrl()\n\t\tawait this.mvcmyquote.setContractPathRootUri(cleanurl);\n\n\t\t// treating webapp boot context\n\t\tif (!boot_webapp) {\n\t\t\t// get root boot-webapp (if any)\n\t\t\tboot_webapp = await this.mvcmyquote.loadConfig('boot-webapp');\n\t\t}\n\n\t\tthis.boot_webapp = (boot_webapp ? boot_webapp : {});\n\n\t\t// load Root routes depending on what sub-apps are enabled\n\t\tawait Root.loadRoutes(this);\n\n\n\t\tif (this.exec_env == 'dev') {\n\t\t\tconsole.log('App.onLoaded execution environment is DEV');\n\t\t\t\n\t\t\t// put app in simplestore for debugging purposes\n\t\t\t_globalscope.simplestore.app = this;\n\t\t}\n\t\telse {\n\t\t\t// look if boot-webapp.json forces to turn environment to dev\n\t\t\tif (this.boot_webapp.env === 'dev') {\n\t\t\t\tthis.exec_env = 'dev'\n\t\t\t\t_globalscope.simplestore.app = this;\n\n\t\t\t\tclientglobal.setExecutionEnvironment('dev');\n\t\t\t\tconsole.log('Execution environment turned to dev in App.onLoaded');\n\t\t\t};\n\t\t}\n\n\t\t// webapp name\n\t\tif (this.boot_webapp.name)\n\t\t\tthis.basename = this.boot_webapp.name;\n\n\t\t// first startup\n\t\tvar default_first_boot = {initprod: false};\n\t\tvar this_boot = {initprod: true, version: this.current_version, time: Date.now()};\n\t\t\t\t\n\t\tthis.settings['firstboot'] = await this.mvcmyquote.readSettings(['firstboot'], default_first_boot);\n\t\t\n\t\tif (this.settings['firstboot'].initprod !== true) {\n\t\t\t// never done\n\t\t\ttry {\n\t\t\t\tawait this.mvcmyquote.initProdEnvironment()\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.log('error while setting up prod environment: ' + err);\n\t\t\t\t});\n\n\t\t\t\tawait this.mvcmyquote.putSettings(['firstboot'], this_boot)\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.log('error while saving firstboot setting: ' + err);\n\t\t\t\t});\n\t\t\t}\n\t\t\tcatch(e) {\n\t\t\t\tconsole.log('exception while setting up prod environment: ' + e);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// check if not too old\n\t\t\tconst newprodenvtime = new Date(this.updatetime).getTime();\n\n\t\t\tif (this.settings['firstboot'].time < newprodenvtime) {\n\t\t\t\t// run initProdEnvironment again\n\t\t\t\ttry {\n\t\t\t\t\tawait this.mvcmyquote.initProdEnvironment()\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.log('error while setting up prod environment: ' + err);\n\t\t\t\t\t});\n\n\t\t\t\t\tthis_boot.last_update = newprodenvtime;\n\t\t\t\t\tthis_boot.initial_time = (this.settings['firstboot'].initial_time ? this.settings['firstboot'].initial_time : this.settings['firstboot'].time);\n\t\n\t\t\t\t\tawait this.mvcmyquote.putSettings(['firstboot'], this_boot)\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.log('error while saving firstboot setting: ' + err);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tcatch(e) {\n\t\t\t\t\tconsole.log('exception while setting up prod environment: ' + e);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// look if boot-webapp.json requires a specific initProdEnvironment\n\n\t\t\t\tif (boot_webapp) {\n\t\t\t\t\tlet webapp_name = (boot_webapp.name ? boot_webapp.name : 'noname');\n\t\t\t\t\tlet webapp_firstboot = ( this.settings['firstboot'][webapp_name] ? this.settings['firstboot'][webapp_name] : {initprod: false});\n\n\t\t\t\t\tthis_boot[webapp_name] = {initprod: true, version: this.current_version, time: Date.now()};\n\n\t\t\t\t\tif (webapp_firstboot.initprod !== true) {\n\t\t\t\t\t\t// never done for this webapp\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait this.mvcmyquote.initProdEnvironment()\n\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\tconsole.log('error while setting up prod environment: ' + err);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tawait this.mvcmyquote.putSettings(['firstboot'], this_boot)\n\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\tconsole.log('error while saving firstboot setting: ' + err);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch(e) {\n\t\t\t\t\t\t\tconsole.log('exception while setting up prod environment: ' + e);\n\t\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// check if not too old\n\t\t\t\t\t\tconst newwebappprodenvtime = new Date(boot_webapp.updatetime).getTime();\n\n\t\t\t\t\t\tif (webapp_firstboot.time < newwebappprodenvtime) {\n\t\t\t\t\t\t\t// run initProdEnvironment again\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tawait this.mvcmyquote.initProdEnvironment()\n\t\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\t\tconsole.log('error while setting up prod environment: ' + err);\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tthis_boot[webapp_name].last_update = newwebappprodenvtime;\n\t\t\t\t\t\t\t\tthis_boot[webapp_name].initial_time = (webapp_firstboot.initial_time ? webapp_firstboot.initial_time : this_boot[webapp_name].time);\n\t\t\t\t\n\t\t\t\t\t\t\t\tawait this.mvcmyquote.putSettings(['firstboot'], this_boot)\n\t\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\t\tconsole.log('error while saving firstboot setting: ' + err);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcatch(e) {\n\t\t\t\t\t\t\t\tconsole.log('exception while setting up prod environment: ' + e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\t\t\n\t\t\n\t\t// read query string parameters for start conditions\n\t\tvar start = {};\n\n\t\tconst url = window.location.href;\n\n\t\tconst urlParams = new URLSearchParams(window.location.search);\n\t\tconst sessionuuid = urlParams.get('sessionuuid');\n\t\tconst wallet = urlParams.get('wallet');\n\n\t\tstart.url = url;\n\t\tstart.urlParams = urlParams;\n\t\tstart.sessionuuid = sessionuuid;\n\t\tstart.wallet = wallet;\n\n\t\tthis.setVariable('start_conditions', start);\n\n\t\tawait this.checkBrowser();\n\n\t\tconsole.log('App.onLoaded setting loading to false');\n\t\tthis.setState({loading: false});\n\t}\n\n\tasync checkBrowser() {\n\t\tlet ischrome = isChrome;\n\n\t\tif (!ischrome) {\n\t\t\t//this.alert(this.mvcmyquote.t('This application is only supported on Chrome for the moment. It may not operate properly in the browser you are currently using.'));\n\t\t}\n\t}\n\n\tasync getFullBrowserVersion() {\n\t\treturn fullBrowserVersion;\n\t}\n\n\tasync getDeviceInfo() {\n\t\treturn (typeof deviceDetect !== 'undefined' ? JSON.stringify(deviceDetect()) : 'unknown');\n\t}\n\n\tasync _setState(json) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.setState(json, (err, res) => {\n\t\t\t\tif (err) reject(err); else resolve(res);\n\t\t\t});\n\t\t})\n\t}\n\n\tasync refreshPage() {\n\t\tconsole.log('App.refreshPage called');\n\t\t\n\t\tlet lastrefresh = Date.now();\n\t\t\n\t\tawait this._setState({lastrefresh: lastrefresh});\n\t\t\n\t\tlet mvcmyquote = this.mvcmyquote;\n\t\t\n\t\tif (mvcmyquote)\n\t\tmvcmyquote.signalEvent('on_refreshPage');\n\n\t\treturn true;\n\t}\n\n\t// config\n\tgetConfig(key) {\n\t\tif (key)\n\t\t\treturn this.boot_webapp[key];\n\t\telse\n\t\t\treturn this.boot_webapp;\n\t}\n\t\n\n  \t// variables\n\tgetVariable(key) {\n\t\treturn this.varmap[key];\n\t}\n\t\n\tsetVariable(key, value) {\n\t\tconsole.log('App.setVariable ' + key + ' to ' + (value ? value : ' null'));\n\t\tthis.varmap[key] = value;\n\t}\n\t\n\t// accessible to childrens to use core api\n\tgetMvcModuleObject() {\n\t\tif (this.mvcmodule)\n\t\t\treturn this.mvcmodule;\n\t\telse{\n\t\t\tif (AppStore.mvcmodule)\n\t\t\t\tthis.mvcmodule = AppStore.mvcmodule;;\n\n\t\t\treturn AppStore.mvcmodule;\n\t\t} \n\t}\n\n\tgetMvcMyQuoteObject() {\n\t\tif (this.mvcmyquote)\n\t\t\treturn this.mvcmyquote;\n\t\telse{\n\t\t\tif (AppStore.mvcmyquote)\n\t\t\t\tthis.mvcmyquote = AppStore.mvcmyquote;;\n\n\t\t\treturn AppStore.mvcmyquote;\n\t\t} \n\t}\n\n\tgetMvcMyPWAObject() {\n\t\tif (this.mvcmypwa)\n\t\t\treturn this.mvcmypwa;\n\t\telse{\n\t\t\tif (AppStore.mvcmyquote)\n\t\t\t\tthis.mvcmypwa = AppStore.mvcmyquote;\n\n\t\t\treturn AppStore.mvcmyquote;\n\t\t} \n\t}\n\n\n\tasync checkOnline() {\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\treturn _root._checkOnline();\n\t\t}\n\t\telse {\n\t\t\treturn Promise.reject('could not find root component');\n\t\t}\n\t}\n\n\tasync checkWalletUnlocked() {\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\treturn _root._checkWalletUnlocked();\n\t\t}\n\t\telse {\n\t\t\treturn Promise.reject('could not find root component');\n\t\t}\n\t}\n\n\tasync resetWallet() {\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\treturn _root._resetWallet();\n\t\t}\n\t\telse {\n\t\t\treturn Promise.reject('could not find root component');\n\t\t}\n\t}\n\n\tasync getDeviceWallet() {\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\treturn _root._getDeviceWallet();\n\t\t}\n\t\telse {\n\t\t\treturn Promise.reject('could not find root component');\n\t\t}\n\t}\n\n\tasync isDeviceWallet(walletuuid) {\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\treturn _root._isDeviceWallet(walletuuid)\n\t\t}\n\t\telse {\n\t\t\treturn Promise.reject('could not find root component');\n\t\t}\n\t}\n\n\tasync openDeviceWallet() {\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\treturn _root._openDeviceWallet();\n\t\t}\n\t\telse {\n\t\t\treturn Promise.reject('could not find root component');\n\t\t}\n\t}\n\n\tcloseDeviceWallet() {\n\t\t// needs to be synchronous to be called in componentWillUnmount\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\treturn _root._closeDeviceWallet();\n\t\t}\n\t\telse {\n\t\t\tconsole.log('could not find root component');\n\t\t}\n\t}\n\n\n\n\t// render\n\trender() {\n\n\t\tif (this.state.loading) {\n\t\t\treturn (\n\t\t\t\t<div className=\"App\">\n\t\t\t\t\t<SplashScreen \n\t\t\t\t\t\tapp = {this}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<Provider store={store}>\n\t\t\t\t<PersistGate persistor={persistor}>\n\t\t\t\t\t<Root\n\t\t\t\t\t\tapp = {this}\n\t\t\t\t\t/>\n\t\t\t\t</PersistGate>\n\t\t\t\t</Provider>\n\t\t\t</div>\n\t\t);\n\t}\n\t\n\t// alert\n\tasync alert(message) {\n\t\talert(message);\n\t}\n\t\n\tasync error(message) {\n\t\tif (this.exec_env === 'dev')\n\t\treturn this.alert(message);\n\t}\n\t\n\t// navigation\n\tasync gotoRoute(route, params = []) {\n\t\t\n\t\tvar steps = route.split(\"/\");\n\t\t\n\t\tvar current_nav_state = {};\n\t\t//this.nav_states.push(current_nav_state);\n\t\t\n\t\tcurrent_nav_state.target = {route: route, steps: steps, params: params, reached: false};\n\n\t\tthis.pushNavigationState(current_nav_state);\n\t\t\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\tawait _root._gotoRoute(route, params);\n\t\t}\n\t\telse {\n\t\t\tconsole.log('root component was not ready to process route: ' + route);\n\t\t\t// we will let root (or other components) check navigation state to post-process this route\n\t\t}\n\t\t\n\t\tawait this.refreshPage();\n\t}\n\n\tasync gotoUrl(url) {\n\t\tconsole.log('App.gotoUrl called for ' + (url ? url : 'initial url'));\n\t\t\n\t\tvar _root = this.getVariable('Root');\n\n\t\tif (_root) {\n\n\t\t\tif (url) {\n\t\t\t\tconst URL = require(\"url\");\n\n\t\t\t\tlet {query} = URL.parse(url, true);\n\n\t\t\t\tlet _encodedurl;\n\t\t\t\t\n\t\t\t\tif (query.b64url) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\t_encodedurl = query.b64url;\n\t\t\t\t\t\tlet _url = this.decodebase64(_encodedurl);\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn this.gotoUrl(_url);\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e) {\n\t\t\t\t\t\tthrow new Error('exception in App.gotoUrl: ' + e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (query.hexurl) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\t_encodedurl = query.hexurl;\n\t\t\t\t\t\tlet _url = this.decodehex(_encodedurl);\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn this.gotoUrl(_url);\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e) {\n\t\t\t\t\t\tthrow new Error('exception in App.gotoUrl: ' + e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn _root._gotoUrl(url);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// initial url\n\t\t\t\treturn _root._gotoUrl(url);\n\t\t\t}\n\t\n\t\t}\n\t\telse {\n\t\t\tconsole.log('root component was not ready to process url: ' + url);\n\t\t}\n\t}\n\n\tasync hasReturnPath() {\n\t\tlet start_parameters = await this.getStartParameters();\n\n\t\tif (start_parameters.returnurl) {\n\t\t\tlet _return_url = this.decodebase64(start_parameters.returnurl);\n\n\t\t\tif (_return_url && (_return_url.startsWith('http://') || _return_url.startsWith('https://')))\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tasync returnToCaller() {\n\t\tlet start_parameters = await this.getStartParameters();\n\n\t\tif (start_parameters.returnurl) {\n\t\t\tlet _return_url = this.decodebase64(start_parameters.returnurl);\n\n\t\t\tif (_return_url && (_return_url.startsWith('http://') || _return_url.startsWith('https://')))\n\t\t\treturn this.gotoUrl(_return_url);\n\t\t}\n\t}\n\n\tasync openCurrencyCard(currencyuuid) {\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\treturn _root._openCurrencyCard(currencyuuid);\n\t\t}\n\t\telse {\n\t\t\tconsole.log('root component was not ready to open card for currency: ' + currencyuuid);\n\t\t}\n\t}\n\n\tasync createCurrencyCard(currencyuuid, signingkey, options = {}) {\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\treturn _root._createCurrencyCard(currencyuuid, signingkey, options);\n\t\t}\n\t\telse {\n\t\t\tconsole.log('root component was not ready to make card for currency: ' + currencyuuid);\n\t\t}\n\t}\n\n\tasync getCurrencyFeeLevel(currencyuuid) {\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\treturn _root._getCurrencyFeeLevel(currencyuuid);\n\t\t}\n\t\telse {\n\t\t\tconsole.log('root component was not ready to get fee level for currency: ' + currencyuuid);\n\t\t}\n\t}\n\n\tasync createLocalCard(web3providerurl, signingkey) {\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\treturn _root._createLocalCard(web3providerurl, signingkey);\n\t\t}\n\t\telse {\n\t\t\tconsole.log('root component was not ready to make card for web3 provider: ' + web3providerurl);\n\t\t}\n\t}\n\n\tasync openLocalCard(schemeuuid, address) {\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\treturn _root._openLocalCard(schemeuuid, address);\n\t\t}\n\t\telse {\n\t\t\tconsole.log('root component was not ready to open local card: ' + address);\n\t\t}\n\t}\n\n\n\tasync gotoMyQuotePage(params) {\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\treturn _root._gotoMyQuotePage(params);\n\t\t}\n\t\telse {\n\t\t\tconsole.log('root component was not ready to process action: ' + (params && params.dataobject ? params.dataobject.type : null));\n\t\t}\n\t}\n\t\n\tasync getMyQuoteDataObject(txhash, currencyuuid) {\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\treturn _root._getMyQuoteDataObject(txhash, currencyuuid);\n\t\t}\n\t\telse {\n\t\t\tconsole.log('root component was not ready to process txhash: ' + txhash);\n\t\t}\n\t}\n\n\tasync getStartParameters() {\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\treturn _root._getStartParameters();\n\t\t}\n\t\telse {\n\t\t\tconsole.log('root component was not ready to process start data object');\n\t\t}\n\t}\n\n\n\tasync getStartDataObject() {\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\treturn _root._getStartDataObject();\n\t\t}\n\t\telse {\n\t\t\tconsole.log('root component was not ready to process start data object');\n\t\t}\n\t}\n\n\tasync onEmptyStartDataObject(txhash, currencyuuid) {\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\treturn _root._onEmptyStartDataObject(txhash, currencyuuid);\n\t\t}\n\t\telse {\n\t\t\tconsole.log('root component was not ready to handle empty data object');\n\t\t}\n\t}\n\n\tasync getCleanUrl() {\n\t\tvar cleanurl = window.location.href;\n\n\t\tif (cleanurl.indexOf('#') != -1) {\n\t\t\t// strip anchors\n\t\t\tcleanurl = cleanurl.slice(0, cleanurl.indexOf('#'));\n\t\t}\n\n\t\tif (cleanurl.indexOf('?') != -1) {\n\t\t\t// strip parameters\n\t\t\tcleanurl = cleanurl.slice(0, cleanurl.indexOf('?'));\n\t\t}\n\n\t\treturn cleanurl;\n\t}\n\n\tasync getSubDomain() {\n\t\tvar fullurl = window.location.href;\n\n\t\tvar hostname = window.location.hostname;\n\n\t\tif (hostname == 'localhost')\n\t\t\treturn;\n\n\t\tvar ipformat = /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;\n \t\tif(hostname.match(ipformat))\n\t\t\treturn;\n\n\t\tvar subdomain = hostname.split('.')[0]; // only first if multiple (e.g. https://webapp.www.example.com)\n\n\t\treturn subdomain;\n\t}\n\n\tasync getShareLink(txhash, currencyuuid) {\n\t\tvar sharelink = await this.getCleanUrl();\n\n\t\tsharelink += '?tx=' + txhash;\n\t\tsharelink += '&ccy=' + currencyuuid;\n\n\t\treturn sharelink;\n\t}\n\n\tasync sendShareLink(sharelinkmessage) {\n\t\tlet to = sharelinkmessage.to[0];\n\t\tlet subject = sharelinkmessage.subject;\n\t\tlet message = sharelinkmessage.message;\n\n\t\tlet cleanurl = await this.getCleanUrl();\n\t\t\n\t\tconst QS = require('query-string');\n\n\t\tlet applink = cleanurl + sharelinkmessage.route + '?' + (sharelinkmessage.params ? QS.stringify(sharelinkmessage.params) : '');\n\t\t\n\t\tlet body = '';\n\t\t\n\t\tbody += (message ? message + '\\r\\n\\r\\n' : '');\n\t\tbody += 'Please use the url below by entering it in the address bar of your browser or entering it directly in the web app (right hamburger menu/Enter url)\\r\\n-------------\\r\\n\\r\\n';\n\t\t\n\t\tif (sharelinkmessage.linkformat === 'hex') {\n\t\t\tlet apphexlink = 'primusmoney://hexurl/';\n\t\t\t\n\t\t\tapphexlink += Buffer.from(applink).toString('hex');\n\t\n\t\t\tbody += apphexlink;\n\t\t}\n\t\telse {\n\t\t\tbody += applink;\n\t\t}\n\t\t\n\t\t// encode to transform \\n into %0A and \\r into %0D\n\t\t//let encodedbody = encodeURIComponent(body);\n\n\t\treturn this.sendEmail(to, subject, body);\n\t}\n\t\n\tasync sendEmail(to, subject, body, options = {}) {\n\t\tlet url = 'mailto:' + (to ? to : '');\n\t\turl += '?subject=' + subject;\n\t\turl += '&body=' + encodeURIComponent(body);\n\t\t\n\t\tif (options.cc)\n\t\t\turl += '&cc=' + options.cc;\n\n\t\tif (options.bcc)\n\t\t\turl += '&bcc=' + options.bcc;\n\t\t\n\t\twindow.location.href = url;\n\n\t\treturn true;\n\t}\n\n\tasync getBaseTokenURI(currencyuuid, cardaddress) {\n\t\tvar basetokenuri = await this.getCleanUrl();\n\n\t\tbasetokenuri += '?ccy=' + currencyuuid;\n\t\tbasetokenuri += '&card=' + cardaddress;\n\t\tbasetokenuri += '&tokenid=';\n\n\t\treturn basetokenuri;\n\t}\n\n\n\tasync resetHref() {\n\t\tlet cleanurl = await this.getCleanUrl();\n\n\t\t// jump\n\t\twindow.location.href = cleanurl;\n\t}\n\n\tasync gotoHome() {\n\t\tconsole.log('App.gotoHome called');\n\t\t\n\t\treturn this.gotoRoute('home');\n\t}\n\t\n\tasync gotoLoginPage() {\n\t\tconsole.log('App.gotoLoginPage called');\n\t\t\n\t\treturn this.gotoRoute('login');\n\t}\n\n\tasync logout() {\n\t\tvar _root = this.getVariable('Root');\n\t\t\n\t\tif (_root) {\n\t\t\tawait _root._logout();\n\t\t}\n\t\telse {\n\t\t\tconsole.log('root component was not ready to process logout');\n\t\t}\n\n\t\treturn this.resetHref();\n\t}\n\t\n\tasync wipedata() {\n\t\tawait localStorage.clear();\n\n\t\treturn this.logout();\n\t}\n\t\n\t_getCurrentNavigationState() {\n\t\tif (this.nav_states.length)\n\t\treturn this.nav_states[this.nav_states.length-1];\n\t}\n\n\t_getPreviousNavigationState() {\n\t\tif (this.nav_states.length > 2)\n\t\treturn this.nav_states[this.nav_states.length-2];\n\t}\n\n\tpushNavigationState(navstate) {\n\t\tthis.nav_states.push(navstate);\n\t}\n\t\n\tgetNavigationState(key, defaultval) {\n\t\tvar current_nav_state = this._getCurrentNavigationState();\n\t\t\n\t\tif (key)\n\t\t\treturn (typeof current_nav_state[key] != 'undefined' ? current_nav_state[key] : defaultval);\n\t\telse\n\t\t\treturn current_nav_state;\n\t}\n\t\n\tsetNavigationState(key, value) {\n\t\tvar current_nav_state = this._getCurrentNavigationState();\n\t\t\n\t\tcurrent_nav_state[key] = value;\n\t}\n\t\n\t\n\tasync goBack() {\n\t\tvar current_nav_state = this._getCurrentNavigationState();\n\n\t\tif (current_nav_state.back) {\n\t\t\t// TODO: go to the corresponding navigation state\n\t\t\tconsole.log('WARNING: App.goBack is not implemented yet, going to Home');\n\t\t\tthis.gotoHome();\n\t\t}\n\t\telse {\n\t\t\tthis.gotoHome();\n\t\t}\n\t}\n\n\t// window listeners\n\taddWindowEventListener(event_name, func, uuid) {\n\t\tthis.window_listeners[event_name + (uuid ? '-' + uuid : '')] = func;\n\n\t\twindow.addEventListener(event_name, func, false);\n\t}\n\n\tremoveWindowEventListener(event_name, uuid) {\n\t\tlet func = this.window_listeners[event_name +  (uuid ? '-' + uuid : '')];\n\n\t\tif (func) {\n\t\t\twindow.removeEventListener(event_name, func);\n\t\t\tdelete this.window_listeners[event_name +  (uuid ? '-' + uuid : '')];\n\t\t}\n\t}\n\n\tdispatchWindowEvent(eventname, data) {\n\t\tconst event = new CustomEvent(eventname, {detail: data});\n\n\t\twindow.dispatchEvent(event);\n\t}\n\t\n\t\n\t\n\t// utils\n\tt(str) {\n\t\treturn this.mvcmodule.t(str);\n\t}\n\n\tguid() {\n\t\tif (this.mvcmodule)\n\t\t\treturn this.mvcmodule.guid();\n\t\t\n\t\tfunction s4() {\n\t\t\treturn Math.floor((1 + Math.random()) * 0x10000)\n\t\t\t\t.toString(16)\n\t\t\t\t.substring(1);\n\t\t}\n\t\t\n\t\treturn s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n\t\t\ts4() + '-' + s4() + s4() + s4();\n\t}\n\n\tasync sleep(ms) {\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\n\t}\n\t\n\t_getBufferClass() {\n\t\tvar _Buffer;\n\t\ttry {\n\t\t\tif (typeof window !== 'undefined' && typeof window.Buffer !== 'undefined') {\n\t\t\t\t_Buffer = window.Buffer;\n\t\t\t} else {\n\t\t\t\t_Buffer = require('buffer').Buffer;\n\t\t\t}\n\t\t} catch (e) {\n\t\t}\n\t\t\n\t\treturn _Buffer;\n\t}\n\n\tencodebase64(str) {\n\t\tvar _Buffer = this._getBufferClass();\n\t\treturn _Buffer.from(str).toString('base64');\n\t}\n\n\tdecodebase64(b64) {\n\t\tvar _Buffer = this._getBufferClass();\n\t\treturn _Buffer.from(b64, 'base64').toString('utf8');;\n\t}\n\n\tencodehex(str) {\n\t\tvar _Buffer = this._getBufferClass();\n\t\treturn _Buffer.from(str).toString('base64');\n\t}\n\n\tdecodehex(hex) {\n\t\tvar _Buffer = this._getBufferClass();\n\t\treturn _Buffer.from(hex, 'hex').toString('utf8');;\n\t}\n\n\tgetAppClass() {\n\t\treturn App;\n\t}\n\n\t// static methods\n\n\tstatic getAppObject() {\n\t\treturn App.theapp;\n\t}\n\n\tstatic getAppStore() {\n\t\treturn AppStore;\t\t\n\t}\n\n} \n\nexport default App;\n"],"mappings":"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"}