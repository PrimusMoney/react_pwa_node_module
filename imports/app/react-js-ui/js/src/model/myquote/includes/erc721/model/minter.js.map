{"version":3,"file":"minter.js","names":["window","GlobalClass","_GlobalClass","simplestore","Global","global","ERC721TokenClass","getGlobalObject","getModuleClass","Minter","session","contractaddress","web3providerurl","contractinterface","getContractInterface","getContractInstance","tokenId","valstr","ethtx","contractinstance","fromaccount","getFromAccount","payingaccount","getPayingAccount","gas","getGas","gasPrice","getGasPrice","transactionuuid","getTransactionUUID","value","getValue","contracttransaction","getContractTransactionObject","setContractTransactionUUID","setValue","setMethodName","args","_tokenId","parseInt","push","setArguments","method_send","params","method_call","arr","registerModuleClass"],"sources":["../../../../../../../../../../../../../imports/app/react-js-ui/js/src/model/myquote/includes/erc721/model/minter.js"],"sourcesContent":["'use strict';\n\nif ( typeof window !== 'undefined' && typeof window.GlobalClass !== 'undefined' && window.GlobalClass ) {\n\tvar _GlobalClass = window.GlobalClass;\n}\nelse if (typeof window !== 'undefined') {\n\tvar _GlobalClass = ( window && window.simplestore && window.simplestore.Global ? window.simplestore.Global : null);\n}\nelse if (typeof global !== 'undefined') {\n\t// we are in node js\n\tvar _GlobalClass = ( global && global.simplestore && global.simplestore.Global ? global.simplestore.Global : null);\n}\n\n\nvar ERC721TokenClass = _GlobalClass.getGlobalObject().getModuleClass('erc721', 'ERC721Token');\n\nvar Minter = class extends ERC721TokenClass {\n\t\n\tconstructor(session, contractaddress, web3providerurl) {\n\t\tsuper(session, contractaddress, web3providerurl);\n\t}\n\n\tgetContractInstance() {\n\t\tvar contractinterface = this.getContractInterface();\n\t\treturn contractinterface.getContractInstance();\n\t}\n\t\n\t// array of strings\n\tasync registerRecord(tokenId, valstr, ethtx) {\n\t\tvar contractinstance = this.getContractInstance();\n\n\t\tvar fromaccount = ethtx.getFromAccount();\n\t\tvar payingaccount = ethtx.getPayingAccount();\n\n\t\tpayingaccount = (payingaccount ? payingaccount : fromaccount);\n\n\t\tvar gas = ethtx.getGas();\n\t\tvar gasPrice = ethtx.getGasPrice();\n\n\t\tvar transactionuuid = ethtx.getTransactionUUID();\n\t\tvar value = ethtx.getValue();\n\n\n\t\tvar contractinstance = this.getContractInstance();\n\t\tvar contracttransaction = contractinstance.getContractTransactionObject(payingaccount, gas, gasPrice);\n\n\t\tcontracttransaction.setContractTransactionUUID(transactionuuid);\n\t\tcontracttransaction.setValue(value);\n\n\t\tcontracttransaction.setMethodName('registerRecord');\t\t\n\t\t\n\t\tvar args = [];\n\t\n\t\tvar _tokenId = parseInt(tokenId);\n\t\n\t\targs.push(_tokenId);\n\t\targs.push(valstr);\n\n\t\tcontracttransaction.setArguments(args);\n\t\t\n\t\treturn contractinstance.method_send(contracttransaction);\n\t}\n\t\n\tasync fetchRecords(tokenId) {\n\t\tvar contractinstance = this.getContractInstance();\n\n\t\tvar params = [];\n\n\t\tvar _tokenId = parseInt(tokenId);\n\t\n\t\tparams.push(_tokenId);\n\t\t\n\t\tconst arr = await contractinstance.method_call('fetchRecords', params);\n\t\t\n\t\treturn arr;\n\t}\n}\n\n\n_GlobalClass.registerModuleClass('mvc-erc721', 'Minter', Minter);"],"mappings":"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"}