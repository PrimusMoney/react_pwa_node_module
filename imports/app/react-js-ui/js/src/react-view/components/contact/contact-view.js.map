{"version":3,"file":"contact-view.js","names":["ContactView","props","app","getMvcModuleObject","parent","state","contactlabel","contactinfotext","prevProps","console","log","mvcmodule","sessionuuid","rootsessionuuid","contactuuid","getContactInfo","then","contact","name","label","uuid","address","rsa_public_key","setState","contactinfo","err","setViewState","email","phone","renderContactInfo","nextProps","prevState","currentcontactuuid","lasterror","React","Component","propTypes","PropTypes","object","isRequired","string","any","mapStateToProps","session","schemes","array","contacts","error","mapDispatchToProps","dispatch","connect"],"sources":["../../../../../../../../../../../imports/app/react-js-ui/js/src/react-view/components/contact/contact-view.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport PropTypes from 'prop-types';\n\n\nclass ContactView extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tthis.app = this.props.app;\n\t\tthis.getMvcModuleObject = this.app.getMvcModuleObject;\n\t\t\n\t\tthis.parent = this.props.parent;\n\t\t\n\t\tthis.state = {\n\t\t\tcontactlabel: 'loading...',\n\t\t\tcontactinfotext: 'loading contact info...'\n\t\t};\n\t}\n\t\n\t// post render commit phase\n\tcomponentDidUpdate(prevProps) {\n\t\tconsole.log('ContactView.componentDidUpdate called');\n\t\tlet mvcmodule = this.getMvcModuleObject();\n\t\t\n\t}\n\t\t\n\tcomponentDidMount() {\n\t\tconsole.log('ContactView.componentDidMount called');\n\t\tlet mvcmodule = this.getMvcModuleObject();\n\t\tlet sessionuuid = this.props.rootsessionuuid;\n\t\t\n\t\tlet contactuuid = this.state.contactuuid;\n\t\t\n\t\tmvcmodule.getContactInfo(sessionuuid, contactuuid)\n\t\t.then((contact) => {\n\t\t\tvar contactinfotext = '';\n\t\t\t\n\t\t\tcontactinfotext += 'Contact name: ' + contact.name + '\\n';\n\t\t\tcontactinfotext += 'Contact label: ' + contact.label + '\\n';\n\t\t\tcontactinfotext += '\\n';\n\t\t\tcontactinfotext += 'Contact uuid: ' + contact.uuid + '\\n';\n\t\t\tcontactinfotext += 'Contact address: ' + contact.address + '\\n';\n\t\t\tcontactinfotext += 'Contact rsa public key: ' + contact.rsa_public_key + '\\n';\n\t\t\t\n\t\t\tthis.setState({contactlabel: contact.label, contactinfotext, contactinfo: contact});\n\t\t})\n\t\t.catch(err => {\n\t\t\t\n\t\t});\n\t\t\n\t\t\n\t}\n\t\n\t// user actions\n\tasync onModify() {\n\t\tconsole.log('onModify pressed!');\n\t\t\n\t\tthis.parent.setViewState('MODIFY');\n\t}\n\t\n\tasync onSend() {\n\t\tconsole.log('onSend pressed!');\n\t\t\n\t\tthis.parent.setViewState('SEND');\n\t}\n\t\n\n\n\t// rendering\n\t/*renderBanner() {\n\t\treturn (\n\t\t\t<View style={{flexDirection: 'row'}}>\n\t\t\t\t<View style={{flex: 1, justifyContent: 'center'}}>\n\t\t\t\t\t<Text style={this.styles.title}>{this.state.contactlabel}</div>\n\t\t\t\t</View>\n\t\t\t\t<View style={{flex: 1, flexDirection: 'row-reverse', marginTop: 10}}>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\tname='edit'\n\t\t\t\t\t\ttype='feather'\n\t\t\t\t\t\tonPress={this.onModify}\n\t\t\t\t\t/>\n\t\t\t\t\t<View style={{margin: 10}}/>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\tname='send'\n\t\t\t\t\t\ttype='feather'\n\t\t\t\t\t\tonPress={this.onSend}\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t</View>\n\n\t\t);\n\t}\n\t\t\n\trenderTransferButtons() {\n\t\treturn (\n\t\t\t<>\n\t\t\t<TouchableOpacity onPress={this.onTransferTo}>\n\t\t\t\t<View style={this.styles.topscreenbutton}>\n\t\t\t\t\t<Text style={this.styles.screenbuttonlabel}>Transfer tokens to</div>\n\t\t\t\t</View>\n\t\t\t</TouchableOpacity>\n\t\t\t<TouchableOpacity onPress={this.onRequestFrom}>\n\t\t\t<View style={this.styles.bottomscreenbutton}>\n\t\t\t\t<Text style={this.styles.screenbuttonlabel}>Request tokens from</div>\n\t\t\t</View>\n\t\t</TouchableOpacity>\n\t\t\t</>\n\t\t);\n\t}*/\n\t\n\trenderContactInfo() {\n\t\tconst contactinfo = this.state.contactinfo;\n\t\t\n\t\tif (contactinfo) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<div><div>{'Contact label: '}</div></div>\n\t\t\t\t\t<div>{contactinfo.label}</div>\n\t\t\t\t\t<div><div>{'Contact email: '}</div></div>\n\t\t\t\t\t<div>{(contactinfo.email ? contactinfo.email : '')}</div>\n\t\t\t\t\t<div><div>{'Contact phone: '}</div></div>\n\t\t\t\t\t<div>{(contactinfo.phone ? contactinfo.phone : '')}</div>\n\t\t\t\t\t<div><div>{'Contact address: '}</div></div>\n\t\t\t\t\t<div>{contactinfo.address}</div>\n\t\t\t\t\t<div><div>{'Contact rsa public key: '}</div></div>\n\t\t\t\t\t<div>{(contactinfo.rsa_public_key ? contactinfo.rsa_public_key : '')}</div>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t\telse {\n\t\t\treturn (\n\t\t\t\t<div>{this.state.contactinfotext}</div>\n\t\t\t);\n\t\t}\n\t\t\n\t}\n\t\n\tasync onTransferTo() {\n\t\tconsole.log('onTransferTo clicked!');\n\t\t\n\t}\n\n\tasync onRequestFrom() {\n\t\tconsole.log('onRequestFrom clicked!');\n\t\t\n\t}\n\n\n\t\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{/*this.renderBanner()*/}\n\t\t\t\t{this.renderContactInfo()}\n\t\t\t<div></div>\n\t\t\t{/*{this.renderTransferButtons()}*/}\n\t\t\t</div>\n\t\t);\n\t}\n\t\n\t// static functions\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\t// fill state\n\t\t\n\t\treturn {\n\t\t\tcontactuuid: nextProps.currentcontactuuid,\n\t\t\tlasterror: nextProps.lasterror\n\t\t};\n\t}\n\n}\n\n// propTypes validation\nContactView.propTypes = {\n\tapp: PropTypes.object.isRequired,\n\tparent: PropTypes.object.isRequired,\n\trootsessionuuid: PropTypes.string,\n\tcurrentcontactuuid: PropTypes.string,\n    lasterror: PropTypes.any,\n};\n\n\n\n//redux\nconst mapStateToProps = (state) => {\n  return {\n\t\trootsessionuuid: state.session.sessionuuid,\n\t\tschemes: state.schemes.array,\n\t\tcurrentcontactuuid: state.contacts.contactuuid,\n\t\tlasterror: state.contacts.error\n\t};\n} \n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t};\n}\n\n\nexport {ContactView};\nexport default connect(mapStateToProps, mapDispatchToProps)(ContactView);\n\n\n"],"mappings":"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"}