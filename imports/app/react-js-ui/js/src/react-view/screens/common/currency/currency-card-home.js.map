{"version":3,"file":"currency-card-home.js","names":["CurrencyCardHomeScreen","props","app","getMvcModuleObject","getMvcMyQuoteObject","uuid","guid","state","action","txhash","loaded","cardinfo","console","log","mvcmyquote","registerEventListener","onRefreshPage","bind","checkNavigationState","err","rootsessionuuid","app_nav_target","getNavigationState","setState","unregisterEventListener","renderCardView","React","Component","propTypes","PropTypes","object","isRequired"],"sources":["../../../../../../../../../../../../imports/app/react-js-ui/js/src/react-view/screens/common/currency/currency-card-home.js"],"sourcesContent":["import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport Header from '../../../navigation/header/header.js';\n\nimport CurrencyCardView from '../../../components/common/currency/currency-card-view.js';\n\nclass CurrencyCardHomeScreen extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tthis.app = this.props.app;\n\t\tthis.getMvcModuleObject = this.app.getMvcModuleObject;\n\t\tthis.getMvcMyQuoteObject = this.app.getMvcMyQuoteObject;\n\t\t\n\t\tthis.uuid = this.app.guid();\n\t\t\n\t\t\n\t\tthis.state = {\n\t\t\taction: 'view',\n\t\t\ttxhash: null,\n\t\t\tloaded: false,\n\t\t\tcardinfo: 'loading...',\n\t\t};\n\t}\n\t\n\t// post render commit phase\n\tcomponentDidMount() {\n\t\tconsole.log('CurrencyCardHomeScreen.componentDidMount called');\n\t\tlet mvcmyquote = this.app.getMvcMyQuoteObject();\n\t\t\n\t\tmvcmyquote.registerEventListener('on_refreshPage', this.uuid, this.onRefreshPage.bind(this));\n\t\t\n\t\tthis.checkNavigationState().catch(err => {console.log('error in checkNavigationState: ' + err);});\n\t}\n\t\n\tasync checkNavigationState() {\n\t\tlet mvcmyquote = this.getMvcMyQuoteObject();\n\n\t\tlet rootsessionuuid = this.props.rootsessionuuid;\n\t\t\n\t\tlet app_nav_target = this.app.getNavigationState('target');\n\n\n\t\tthis.setState({loaded: true});\n\t}\n\n\tasync onRefreshPage() {\n\t\tconsole.log('CurrencyCardHomeScreen.onRefreshPage called');\n\n\t\treturn this.checkNavigationState().catch(err => {console.log('error in checkNavigationState: ' + err);});\n\t}\n\t\n\n\t// end of life\n\tcomponentWillUnmount() {\n\t\tconsole.log('CurrencyCardHomeScreen.componentWillUnmount called');\n\t\tlet app = this.app;\n\t\tlet mvcmyquote = this.getMvcMyQuoteObject();\n\t\t\n\t\tmvcmyquote.unregisterEventListener('on_refreshPage', this.uuid);\n\t}\n\n\trenderCardView() {\n\t\tswitch(this.state.action) {\n\t\t\tcase 'view':\n\t\t\t\treturn (<CurrencyCardView app = {this.app}/>);\n\t\t\tcase 'load':\n\t\t\t\treturn (<div>Not implemented {this.state.action}</div>);\n\t\t\tdefault:\n\t\t\t\treturn (<div>Error, wrong action {this.state.action}</div>);\n\t\t}\n\t}\n\t\n\t\n\trender() {\n\t\tlet {loaded, action, cardinfo} = this.state;\n\n\t\treturn (\n\t\t\t<div className=\"Screen\">\n\t\t\t\t<Header app = {this.app} />\n\t\t\t\t{(loaded === true ?\n\t\t\t\tthis.renderCardView()\n\t\t\t\t: <div>{cardinfo}</div>)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// propTypes validation\nCurrencyCardHomeScreen.propTypes = {\n\tapp: PropTypes.object.isRequired,\n};\n\n\n\nexport default CurrencyCardHomeScreen;"],"mappings":"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"}