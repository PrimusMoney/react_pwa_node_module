{"version":3,"file":"currency-card-list-screen.js","names":["CurrencyCardListScreen","props","app","getMvcModuleObject","getMvcMyQuoteObject","uuid","guid","state","action","loaded","currencyinfo","console","log","checkNavigationState","err","mvcmyquote","rootsessionuuid","app_nav_state","getNavigationState","app_nav_target","target","route","reached","params","currencyuuid","setState","React","Component","propTypes","PropTypes","object","isRequired"],"sources":["../../../../../../../../../../../../imports/app/react-js-ui/js/src/react-view/screens/common/currency/currency-card-list-screen.js"],"sourcesContent":["import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport Header from '../../../navigation/header/header.js';\n\nimport CurrencyCardListView from '../../../components/common/currency/currency-card-list-view.js';\n\nclass CurrencyCardListScreen extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tthis.app = this.props.app;\n\t\tthis.getMvcModuleObject = this.app.getMvcModuleObject;\n\t\tthis.getMvcMyQuoteObject = this.app.getMvcMyQuoteObject;\n\t\t\n\t\tthis.uuid = this.app.guid();\n\t\t\n\t\t\n\t\tthis.state = {\n\t\t\taction: 'create',\n\t\t\tloaded: false,\n\t\t\tcurrencyinfo: 'loading...'\n\t\t};\n\t}\n\t\n\t// post render commit phase\n\tcomponentDidMount() {\n\t\tconsole.log('CurrencyCardListScreen.componentDidMount called');\n\t\t\n\t\tthis.checkNavigationState().catch(err => {console.log('error in checkNavigationState: ' + err);});\n\t}\n\n\tasync checkNavigationState() {\n\t\tlet mvcmyquote = this.getMvcMyQuoteObject();\n\n\t\tlet rootsessionuuid = this.props.rootsessionuuid;\n\n\t\tlet app_nav_state = this.app.getNavigationState();\n\t\tlet app_nav_target = app_nav_state.target;\n\n\t\tif (app_nav_target && (app_nav_target.route == 'currencycards') && (app_nav_target.reached == false)) {\n\t\t\tvar params = app_nav_target.params;\n\n\t\t\tif (params) {\n\t\t\t\tlet currencyuuid = params.currencyuuid;\n\t\t\t\tlet currencyinfo = '';\n\t\t\t\tlet action = (params.action ? params.action : 'view');\n\t\n\t\t\t\tif (currencyuuid) {\n\t\t\t\t\t// retrieve info from firenze\n\t\t\t\t\tcurrencyinfo = currencyuuid;\n\t\t\t\t}\n\t\n\t\t\t\tthis.setState({action, currencyuuid, currencyinfo});\n\t\t\t}\n\n\t\t\t// CurrencyCardListView will take care of marking target reached\n\t\t}\n\n\t\tthis.setState({loaded: true});\n\t}\n\t\n\t// end of life\n\tcomponentWillUnmount() {\n\t\tconsole.log('CurrencyCardListScreen.componentWillUnmount called');\n\t\tlet app = this.app;\n\t\tlet mvcmyquote = this.getMvcMyQuoteObject();\n\t\t\n\t}\n\t\n\t\n\trender() {\n\t\tlet {loaded, action, currencyinfo} = this.state;\n\n\t\treturn (\n\t\t\t<div className=\"Screen\">\n\t\t\t\t<Header app = {this.app} />\n\t\t\t\t{(loaded === true ?\n\t\t\t\t<CurrencyCardListView app = {this.app} /> :\n\t\t\t\t<div>{currencyinfo}</div>\n\t\t\t\t)}\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// propTypes validation\nCurrencyCardListScreen.propTypes = {\n\tapp: PropTypes.object.isRequired,\n};\n\n\n\nexport default CurrencyCardListScreen;"],"mappings":";;;;;;;;;AAAA;;AAEA;;AAEA;;AAEA;;;;;;;;+CALA,oJ;;;;;;;;;;;;;;;;;;;;;;;;;;IAOMA,sB;;;;;EACL,gCAAYC,KAAZ,EAAmB;IAAA;;IAAA;;IAClB,0BAAMA,KAAN;IAEA,MAAKC,GAAL,GAAW,MAAKD,KAAL,CAAWC,GAAtB;IACA,MAAKC,kBAAL,GAA0B,MAAKD,GAAL,CAASC,kBAAnC;IACA,MAAKC,mBAAL,GAA2B,MAAKF,GAAL,CAASE,mBAApC;IAEA,MAAKC,IAAL,GAAY,MAAKH,GAAL,CAASI,IAAT,EAAZ;IAGA,MAAKC,KAAL,GAAa;MACZC,MAAM,EAAE,QADI;MAEZC,MAAM,EAAE,KAFI;MAGZC,YAAY,EAAE;IAHF,CAAb;IAVkB;EAelB,C,CAED;;;;;WACA,6BAAoB;MACnBC,OAAO,CAACC,GAAR,CAAY,iDAAZ;MAEA,KAAKC,oBAAL,YAAkC,UAAAC,GAAG,EAAI;QAACH,OAAO,CAACC,GAAR,CAAY,oCAAoCE,GAAhD;MAAsD,CAAhG;IACA;;;;6FAED;QAAA;QAAA;UAAA;YAAA;cAAA;gBACKC,UADL,GACkB,KAAKX,mBAAL,EADlB;gBAGKY,eAHL,GAGuB,KAAKf,KAAL,CAAWe,eAHlC;gBAKKC,aALL,GAKqB,KAAKf,GAAL,CAASgB,kBAAT,EALrB;gBAMKC,cANL,GAMsBF,aAAa,CAACG,MANpC;;gBAQC,IAAID,cAAc,IAAKA,cAAc,CAACE,KAAf,IAAwB,eAA3C,IAAgEF,cAAc,CAACG,OAAf,IAA0B,KAA9F,EAAsG;kBACjGC,MADiG,GACxFJ,cAAc,CAACI,MADyE;;kBAGrG,IAAIA,MAAJ,EAAY;oBACPC,YADO,GACQD,MAAM,CAACC,YADf;oBAEPd,YAFO,GAEQ,EAFR;oBAGPF,MAHO,GAGGe,MAAM,CAACf,MAAP,GAAgBe,MAAM,CAACf,MAAvB,GAAgC,MAHnC;;oBAKX,IAAIgB,YAAJ,EAAkB;sBACjB;sBACAd,YAAY,GAAGc,YAAf;oBACA;;oBAED,KAAKC,QAAL,CAAc;sBAACjB,MAAM,EAANA,MAAD;sBAASgB,YAAY,EAAZA,YAAT;sBAAuBd,YAAY,EAAZA;oBAAvB,CAAd;kBACA,CAdoG,CAgBrG;;gBACA;;gBAED,KAAKe,QAAL,CAAc;kBAAChB,MAAM,EAAE;gBAAT,CAAd;;cA3BD;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;QA8BA;;;;WACA,gCAAuB;MACtBE,OAAO,CAACC,GAAR,CAAY,oDAAZ;MACA,IAAIV,GAAG,GAAG,KAAKA,GAAf;MACA,IAAIa,UAAU,GAAG,KAAKX,mBAAL,EAAjB;IAEA;;;WAGD,kBAAS;MACR,kBAAqC,KAAKG,KAA1C;MAAA,IAAKE,MAAL,eAAKA,MAAL;MAAA,IAAaD,MAAb,eAAaA,MAAb;MAAA,IAAqBE,YAArB,eAAqBA,YAArB;MAEA,oBACC;QAAK,SAAS,EAAC;MAAf,gBACC,gCAAC,kBAAD;QAAQ,GAAG,EAAI,KAAKR;MAApB,EADD,EAEGO,MAAM,KAAK,IAAX,gBACF,gCAAC,gCAAD;QAAsB,GAAG,EAAI,KAAKP;MAAlC,EADE,gBAEF,6CAAMQ,YAAN,CAJD,CADD;IAUA;;;;EA7EmCgB,iBAAA,CAAMC,S,GAgF3C;;;AACA3B,sBAAsB,CAAC4B,SAAvB,GAAmC;EAClC1B,GAAG,EAAE2B,qBAAA,CAAUC,MAAV,CAAiBC;AADY,CAAnC;eAMe/B,sB"}