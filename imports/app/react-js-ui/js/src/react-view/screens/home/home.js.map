{"version":3,"file":"home.js","names":["HomeScreen","props","app","getMvcModuleObject","HomeLinks","require","homelinks","getHomeLinks","state","console","log","iswalletlocked","checkWalletUnlocked","err","item","index","type","pathname","label","walletname","map","renderHomeLink","renderHomeLinks","nextProps","prevState","rootsessionuuid","currentwallet","walletuuid","currentwalletuuid","unlockpending","React","Component","propTypes","PropTypes","object","isRequired","string","bool","mapStateToProps","session","sessionuuid","wallets","openpending","islocked","mapDispatchToProps","dispatch","connect"],"sources":["../../../../../../../../../../../imports/app/react-js-ui/js/src/react-view/screens/home/home.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport PropTypes from 'prop-types';\n\n\nimport Header from '../../navigation/header/header.js';\n\nimport LoginForm from '../../components/common/login/login-form.js';\n\n\nclass HomeScreen extends React.Component {\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tthis.app = this.props.app;\n\t\tthis.getMvcModuleObject = this.app.getMvcModuleObject;\n\n\t\t// load dynamic home links\n\t\tconst HomeLinks = require('./homelinks/homelinks.js');\n\t\tthis.homelinks = HomeLinks.default.getHomeLinks(this.app);\n\n\t\tthis.state = {\n\t\t};\t\t\n\t}\n\t\n\tcomponentDidMount() {\n\t\tconsole.log('HomeScreen.componentDidMount called');\n\t\t\n\t\t// check if should login\n\t\tconst {iswalletlocked} = this.state;\n\n\t\tconsole.log('HomeScreen.componentDidMount iswalletlocked = ' + iswalletlocked);\n\n\t\tif (iswalletlocked === false) {\n\t\t\t// check wallet is really unlocked\n\t\t\tthis.app.checkWalletUnlocked()\n\t\t\t.catch(err => {\n\t\t\t});\n\t\t}\n\t}\n\n\trenderHomeLink(item, index) {\n\t\tswitch (item.type) {\n\t\t\tcase 'link':\n\t\t\t\treturn (<div key={index} className=\"HomeLink\"><Link to={{ pathname: item.pathname }}>{item.label}</Link></div>);\n\t\t\tcase 'separator':\n\t\t\t\treturn (<hr key={index}></hr>);\n\t\t\tdefault:\n\t\t\t\treturn (<></>);\n\t\t}\n\t}\n\n\trenderHomeLinks() {\n\t\tconst {walletname} = this.state;\n\n\t\treturn (\n\t\t\t<div className=\"Container\">\n\t\t\t\t<div className=\"Banner\">\n\t\t\t\t\t<div>You are using the account<br></br>{(walletname ? walletname : 'Wallet')}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"Block\">\n\t\t\t\t\t\n\t\t\t\t\t{this.homelinks.map((item, index) => {\n\t\t\t\t\t\treturn (this.renderHomeLink(item, index));\n\t\t\t\t\t})}\n\n\t\t\t\t</div>\n\t\t\t</div> \n\t\t);\n\t}\n\n\t\n\trender() {\n\t\tconst {iswalletlocked} = this.state;\n\n\t\treturn (\n\t\t\t<div className=\"HomeScreen\">\t\t\t\t\n\t\t\t\t<Header app = {this.app} />\n\t\t\t\t\n\t\t\t\t<div className=\"HomeBanner\">Home</div>\n\n\t\t\t\t{(iswalletlocked !== false ? \n\t\t\t\t<LoginForm app={this.app} parent={this} />\t:\n\t\t\t\tthis.renderHomeLinks())}\n\t\t\t\t\n\t\t\t</div>\n\t\t);\n\t}\n\t\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\t// fill state\n\t\treturn {\n\t\t\trootsessionuuid: nextProps.rootsessionuuid,\n\t\t\twalletname: nextProps.currentwallet,\n\t\t\twalletuuid: nextProps.currentwalletuuid,\n\t\t\tunlockpending: nextProps.unlockpending,\n\t\t\tiswalletlocked: nextProps.iswalletlocked,\n\t\t};\n\t}\n}\n\n// propTypes validation\nHomeScreen.propTypes = {\n\tapp: PropTypes.object.isRequired,\n\trootsessionuuid: PropTypes.string,\n\tcurrentwallet: PropTypes.string,\n\tcurrentwalletuuid: PropTypes.string,\n\tunlockpending: PropTypes.bool,\n\tiswalletlocked: PropTypes.bool,\n};\n\n//redux\nconst mapStateToProps = (state) => {\n\treturn {\n\t\trootsessionuuid: state.session.sessionuuid,\n\t\tcurrentwallet: state.wallets.walletname,\n\t\tcurrentwalletuuid: state.wallets.walletuuid,\n\t\tunlockpending: state.wallets.openpending,\n\t\tiswalletlocked: state.wallets.islocked,\n\t};\n} \n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t};\n}\n\n\nexport {HomeScreen};\nexport default connect(mapStateToProps, mapDispatchToProps)(HomeScreen);"],"mappings":"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"}