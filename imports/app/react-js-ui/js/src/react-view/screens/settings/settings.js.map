{"version":3,"file":"settings.js","names":["SettingsScreen","props","settings","app","getSettings","state","logs","store_logs","capture_logs","App","releaseLogs","setState","captureLogs","saveSettings","screenProps","getMvcModuleObject","root","main","secondary","styles","composeStyles","form","flexDirection","blocktext","onSwitchLogs","languageList","label","uuid","items","map","item","i","pickeritem","picker","selectedLanguageValue","itemValue","itemIndex","renderCaptureLogs","renderLanguageSelection","mvcmodule","getForm","screen","header","container","renderForm","React","Component","StyleSheet","create","flex","padding","justifyContent","alignItems","fontSize","fontFamily","blocktextinput","width"],"sources":["../../../../../../../../../../../imports/app/react-js-ui/js/src/react-view/screens/settings/settings.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\n\nimport { Button, Picker, ScrollView, StyleSheet, Switch, Text, TextInput, View } from 'react-native';\n\nimport DrawerHeader from '../../components/drawer/drawer-header.js';\n\n\n\nexport default class SettingsScreen extends React.Component {\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\t\n\t\tthis.app = this.props.screenProps.app;\n\t\tthis.getMvcModuleObject = this.app.getMvcModuleObject;\n\t\t\n\t\tthis.root = this.props.screenProps.root;\n\t\tthis.main = this.props.screenProps.main; // not null if under MainScreen\n\t\tthis.secondary = this.props.screenProps.secondary; // not null if under SecondaryScreen\n\n\t\tif (!this.root)\n\t\t\tthis.root = (this.main ? this.main.root : (this.secondary ? this.secondary.root : null));\n\t\t\n\t\tthis.styles = this.app.composeStyles(styles);\n\n\t\tlet logs = this.app.settings['general'].store_logs;\n\n\t\tthis.state = {\n\t\t\t\tlogs: logs\n\t\t};\t\t\n\t}\n\t\n\tonSwitchLogs = async () => {\n\t\tlet settings = this.app.getSettings();\n\t\t\n\t\tif (this.state.logs) {\n\t\t\tthis.app.store_logs = false;\n\t\t\tsettings['general'].store_logs = false;\n\t\t\t\n\t\t\tthis.app.capture_logs = false;\n\t\t\tsettings['general'].capture_logs = false;\n\t\t\t\n\t\t\tthis.app.App.releaseLogs();\n\t\t\t\n\t\t\tthis.setState({logs: false}); \n\t\t}\n\t\telse {\n\t\t\tthis.app.store_logs = true;\n\t\t\tsettings['general'].store_logs = true;\n\t\t\t\n\t\t\tthis.app.capture_logs = true;\n\t\t\tsettings['general'].capture_logs = true;\n\t\t\t\n\t\t\tthis.app.App.captureLogs();\n\t\t\t\n\t\t\tthis.setState({logs: true});\n\t\t}\n\t\t\n\t\tthis.app.saveSettings()\n\t}\n\t\n\trenderCaptureLogs(form) {\n\t\treturn (\n\t\t\t<View style={{ flexDirection: 'row' }}>\n\t\t\t\t<Text style={this.styles.blocktext}>Capture logs</Text>\n\t\t\t\t<Switch onValueChange = {this.onSwitchLogs} value = {this.state.logs}/>\n\t\t\t</View>\n\t\t);\n\t}\n\t\n\trenderLanguageSelection(form) {\n\t\tlet languageList = [{label: 'English', uuid: 'EN'}]\n\t\tlet items = languageList.map( (item, i) => {\n\t\t\treturn <Picker.Item style={this.styles.pickeritem} key={i} value={item.uuid} label={item.label} />\n\t\t});\n\t\t\n\t\treturn (\n\t\t\t<View style={{ flexDirection: 'row' }}>\n\t\t\t<Text style={this.styles.blocktext}>UI language:</Text>\n\t\t\t<Picker\n\t\t\t\tstyle={this.styles.picker}\n\t\t\t\tselectedValue={this.state.selectedLanguageValue}\n\t\t\t\tonValueChange={ (itemValue, itemIndex) => ( this.setState({selectedLanguageValue: itemValue}) ) }\n\t\t\t>\n\t\t\t\t{items}\n\t\t\t</Picker>\n\t\t\t</View>\n\t\t\t);\n\t}\n\t\n\trenderForm(form) {\n\t\treturn (\n\t\t\t<View style={this.styles.settings}>\n\t\t\t{this.renderCaptureLogs(form)}\n\t\t\t{this.renderLanguageSelection(form)}\n\t\t\t</View>\n\t\t);\n\t}\n\t\n\tgetForm() {\n\t\tlet mvcmodule = this.getMvcModuleObject();\n\t\t\n\t\tlet form = {};\n\t\t\n\t\treturn form;\n\t}\n\t\n\trender() {\n\t\tlet form = this.getForm();\n\t\t\n\t\treturn (\n\t\t\t<View style={this.styles.screen}>\n\t\t\t\t<View style={this.styles.header}>\n\t\t\t\t\t<DrawerHeader \n\t\t\t\t\t\ttitle=\"Settings\" \n\t\t\t\t\t\tapp={this.app}\n\t\t\t\t\t\troot={this.root}\n\t\t\t\t\t\tmain={this.main}\n\t\t\t\t\t\tsecondary={this.secondary}\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t\t\t\n\t\t\t\t<View style={this.styles.container}>\n\t\t\t\t\t{this.renderForm(form)}\n\t\t\t\t</View>\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nconst styles = StyleSheet.create({\n\tscreen: {\n\t\tflex: 1 \n\t},\n\theader: {\n\t},\n\tcontainer: {\n\t\tpadding: 20,\n\t\tjustifyContent: 'flex-start',\n\t\talignItems: 'flex-start'\n\t},\n\tsettings: {\n\t\tjustifyContent: 'flex-start',\n\t\talignItems: 'flex-start'\n\t},\n\tblocktext: {\n\t\tfontSize: 14,\n\t\tfontFamily: 'Roboto',\n\t},\n\tblocktextinput: {\n\t\tfontSize: 14,\n\t\tfontFamily: 'Roboto',\n\t},\n\tpicker: {\n\t\tflex:1,\n\t\twidth: 250\n\t},\n\tpickeritem: {\n\t\t\n\t},\n});\n"],"mappings":";;;;;;;;;AAAA;;AACA;;AAGA;;AAEA;;;;;;;;+CALA,oJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;IASqBA,c;;;;;EAEpB,wBAAYC,KAAZ,EAAmB;IAAA;;IAAA;;IAClB,0BAAMA,KAAN;;IADkB,uIAuBJ;MAAA;MAAA;QAAA;UAAA;YAAA;cACVC,QADU,GACC,MAAKC,GAAL,CAASC,WAAT,EADD;;cAGd,IAAI,MAAKC,KAAL,CAAWC,IAAf,EAAqB;gBACpB,MAAKH,GAAL,CAASI,UAAT,GAAsB,KAAtB;gBACAL,QAAQ,CAAC,SAAD,CAAR,CAAoBK,UAApB,GAAiC,KAAjC;gBAEA,MAAKJ,GAAL,CAASK,YAAT,GAAwB,KAAxB;gBACAN,QAAQ,CAAC,SAAD,CAAR,CAAoBM,YAApB,GAAmC,KAAnC;;gBAEA,MAAKL,GAAL,CAASM,GAAT,CAAaC,WAAb;;gBAEA,MAAKC,QAAL,CAAc;kBAACL,IAAI,EAAE;gBAAP,CAAd;cACA,CAVD,MAWK;gBACJ,MAAKH,GAAL,CAASI,UAAT,GAAsB,IAAtB;gBACAL,QAAQ,CAAC,SAAD,CAAR,CAAoBK,UAApB,GAAiC,IAAjC;gBAEA,MAAKJ,GAAL,CAASK,YAAT,GAAwB,IAAxB;gBACAN,QAAQ,CAAC,SAAD,CAAR,CAAoBM,YAApB,GAAmC,IAAnC;;gBAEA,MAAKL,GAAL,CAASM,GAAT,CAAaG,WAAb;;gBAEA,MAAKD,QAAL,CAAc;kBAACL,IAAI,EAAE;gBAAP,CAAd;cACA;;cAED,MAAKH,GAAL,CAASU,YAAT;;YA1Bc;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAvBI;;IAIlB,MAAKV,GAAL,GAAW,MAAKF,KAAL,CAAWa,WAAX,CAAuBX,GAAlC;IACA,MAAKY,kBAAL,GAA0B,MAAKZ,GAAL,CAASY,kBAAnC;IAEA,MAAKC,IAAL,GAAY,MAAKf,KAAL,CAAWa,WAAX,CAAuBE,IAAnC;IACA,MAAKC,IAAL,GAAY,MAAKhB,KAAL,CAAWa,WAAX,CAAuBG,IAAnC,CARkB,CAQuB;;IACzC,MAAKC,SAAL,GAAiB,MAAKjB,KAAL,CAAWa,WAAX,CAAuBI,SAAxC,CATkB,CASiC;;IAEnD,IAAI,CAAC,MAAKF,IAAV,EACC,MAAKA,IAAL,GAAa,MAAKC,IAAL,GAAY,MAAKA,IAAL,CAAUD,IAAtB,GAA8B,MAAKE,SAAL,GAAiB,MAAKA,SAAL,CAAeF,IAAhC,GAAuC,IAAlF;IAED,MAAKG,MAAL,GAAc,MAAKhB,GAAL,CAASiB,aAAT,CAAuBD,MAAvB,CAAd;IAEA,IAAIb,IAAI,GAAG,MAAKH,GAAL,CAASD,QAAT,CAAkB,SAAlB,EAA6BK,UAAxC;IAEA,MAAKF,KAAL,GAAa;MACXC,IAAI,EAAEA;IADK,CAAb;IAlBkB;EAqBlB;;;;WA+BD,2BAAkBe,IAAlB,EAAwB;MACvB,oBACC,gCAAC,iBAAD;QAAM,KAAK,EAAE;UAAEC,aAAa,EAAE;QAAjB;MAAb,gBACC,gCAAC,iBAAD;QAAM,KAAK,EAAE,KAAKH,MAAL,CAAYI;MAAzB,kBADD,eAEC,gCAAC,mBAAD;QAAQ,aAAa,EAAI,KAAKC,YAA9B;QAA4C,KAAK,EAAI,KAAKnB,KAAL,CAAWC;MAAhE,EAFD,CADD;IAMA;;;WAED,iCAAwBe,IAAxB,EAA8B;MAAA;;MAC7B,IAAII,YAAY,GAAG,CAAC;QAACC,KAAK,EAAE,SAAR;QAAmBC,IAAI,EAAE;MAAzB,CAAD,CAAnB;MACA,IAAIC,KAAK,GAAGH,YAAY,CAACI,GAAb,CAAkB,UAACC,IAAD,EAAOC,CAAP,EAAa;QAC1C,oBAAO,gCAAC,mBAAD,CAAQ,IAAR;UAAa,KAAK,EAAE,MAAI,CAACZ,MAAL,CAAYa,UAAhC;UAA4C,GAAG,EAAED,CAAjD;UAAoD,KAAK,EAAED,IAAI,CAACH,IAAhE;UAAsE,KAAK,EAAEG,IAAI,CAACJ;QAAlF,EAAP;MACA,CAFW,CAAZ;MAIA,oBACC,gCAAC,iBAAD;QAAM,KAAK,EAAE;UAAEJ,aAAa,EAAE;QAAjB;MAAb,gBACA,gCAAC,iBAAD;QAAM,KAAK,EAAE,KAAKH,MAAL,CAAYI;MAAzB,kBADA,eAEA,gCAAC,mBAAD;QACC,KAAK,EAAE,KAAKJ,MAAL,CAAYc,MADpB;QAEC,aAAa,EAAE,KAAK5B,KAAL,CAAW6B,qBAF3B;QAGC,aAAa,EAAG,uBAACC,SAAD,EAAYC,SAAZ;UAAA,OAA4B,MAAI,CAACzB,QAAL,CAAc;YAACuB,qBAAqB,EAAEC;UAAxB,CAAd,CAA5B;QAAA;MAHjB,GAKEP,KALF,CAFA,CADD;IAYA;;;WAED,oBAAWP,IAAX,EAAiB;MAChB,oBACC,gCAAC,iBAAD;QAAM,KAAK,EAAE,KAAKF,MAAL,CAAYjB;MAAzB,GACC,KAAKmC,iBAAL,CAAuBhB,IAAvB,CADD,EAEC,KAAKiB,uBAAL,CAA6BjB,IAA7B,CAFD,CADD;IAMA;;;WAED,mBAAU;MACT,IAAIkB,SAAS,GAAG,KAAKxB,kBAAL,EAAhB;MAEA,IAAIM,IAAI,GAAG,EAAX;MAEA,OAAOA,IAAP;IACA;;;WAED,kBAAS;MACR,IAAIA,IAAI,GAAG,KAAKmB,OAAL,EAAX;MAEA,oBACC,gCAAC,iBAAD;QAAM,KAAK,EAAE,KAAKrB,MAAL,CAAYsB;MAAzB,gBACC,gCAAC,iBAAD;QAAM,KAAK,EAAE,KAAKtB,MAAL,CAAYuB;MAAzB,gBACC,gCAAC,wBAAD;QACC,KAAK,EAAC,UADP;QAEC,GAAG,EAAE,KAAKvC,GAFX;QAGC,IAAI,EAAE,KAAKa,IAHZ;QAIC,IAAI,EAAE,KAAKC,IAJZ;QAKC,SAAS,EAAE,KAAKC;MALjB,EADD,CADD,eAWC,gCAAC,iBAAD;QAAM,KAAK,EAAE,KAAKC,MAAL,CAAYwB;MAAzB,GACE,KAAKC,UAAL,CAAgBvB,IAAhB,CADF,CAXD,CADD;IAiBA;;;;EAxH0CwB,iBAAA,CAAMC,S;;;;AA2HlD,IAAM3B,MAAM,GAAG4B,uBAAA,CAAWC,MAAX,CAAkB;EAChCP,MAAM,EAAE;IACPQ,IAAI,EAAE;EADC,CADwB;EAIhCP,MAAM,EAAE,EAJwB;EAMhCC,SAAS,EAAE;IACVO,OAAO,EAAE,EADC;IAEVC,cAAc,EAAE,YAFN;IAGVC,UAAU,EAAE;EAHF,CANqB;EAWhClD,QAAQ,EAAE;IACTiD,cAAc,EAAE,YADP;IAETC,UAAU,EAAE;EAFH,CAXsB;EAehC7B,SAAS,EAAE;IACV8B,QAAQ,EAAE,EADA;IAEVC,UAAU,EAAE;EAFF,CAfqB;EAmBhCC,cAAc,EAAE;IACfF,QAAQ,EAAE,EADK;IAEfC,UAAU,EAAE;EAFG,CAnBgB;EAuBhCrB,MAAM,EAAE;IACPgB,IAAI,EAAC,CADE;IAEPO,KAAK,EAAE;EAFA,CAvBwB;EA2BhCxB,UAAU,EAAE;AA3BoB,CAAlB,CAAf"}