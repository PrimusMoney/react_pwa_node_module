{"version":3,"file":"splash.js","names":["SplashScreen","props","app","exec_env","uuid","guid","dev_message","state","splashinfo","console","log","mvcmyquote","getMvcMyQuoteObject","registerEventListener","onRefreshLogs","unregisterEventListener","now","Date","setState","logs_refreshed_on","renderDebugLogs","renderSplashInfo","React","Component","propTypes","PropTypes","object","isRequired"],"sources":["../../../../../../../../../../../imports/app/react-js-ui/js/src/react-view/screens/splash/splash.js"],"sourcesContent":["import React, { Component } from 'react';\n\nimport { Dots } from 'react-activity';\nimport 'react-activity/dist/react-activity.css';\n\nimport PropTypes from 'prop-types';\n\n\nclass SplashScreen extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tthis.app = this.props.app;\n\t\t\n\t\tthis.exec_env = this.app.exec_env;\n\n\t\tthis.uuid = this.app.guid();\n\t\t\n\t\tlet dev_message = '';\n\t\t\n\t\tif (this.exec_env == 'dev')\n\t\tdev_message = 'waiting for dev environment info...';\n\t\t\n\t\tthis.state = {\n\t\t\t\tsplashinfo: 'Primus Money\\nAll rights reserved',\n\t\t\t\tdev_message: dev_message\n\t\t};\n\t}\n\t\n\t// post render commit phase\n\tcomponentDidMount() {\n\t\tconsole.log('SplashScreen.componentDidMount called');\n\t\t\n\t\tif (this.exec_env != 'dev')\n\t\t\treturn;\n\t\t\n\t\tlet app = this.app;\n\t\tlet mvcmyquote = app.getMvcMyQuoteObject();\n\t\t\n\t\tif (mvcmyquote)\n\t\tmvcmyquote.registerEventListener('on_app_refresh_logs', this.uuid, this.onRefreshLogs);\n\n\t}\n\t\n\t// end of life\n\tcomponentWillUnmount() {\n\t\tconsole.log('SplashScreen.componentWillUnmount called');\n\t\tlet app = this.app;\n\t\tlet mvcmyquote = app.getMvcMyQuoteObject();\n\t\t\n\t\tif (mvcmyquote)\n\t\tmvcmyquote.unregisterEventListener('on_app_refresh_logs', this.uuid);\n\t}\n\t\n\tasync onRefreshLogs() {\n\t\tconsole.log('SplashScreen.onRefreshLogs called');\n\t\t\n\t\tlet now = Date.now();\n\t\t\n\t\tthis.setState({logs_refreshed_on: now});\n\t}\n\t\n\trenderDebugLogs() {\n\t\treturn (<div></div>);\n\t\t/*return (<>\n\t\t\t\t<Button \n\t\t\t\tonPress={this.onRefreshLogs}\n\t\t\t\ttitle=\"Refresh Splash logs\"\n\t\t\t\t/>\n\t\t\t\t{this.app.renderDebugLogs()}\n\t\t\t</>\n\t\t\t);*/\n\t}\n\n\trenderSplashInfo() {\n\t\treturn (\n\t\t\t<div className=\"Splash\">\n\t\t\t\t<div>{this.state.splashinfo}</div>\n\t\t\t\t<div></div>\n\t\t\t\t<div>{this.state.dev_message}</div>\n\t\t\t\t<div></div>\n\t\t\t\t<div>loading app...</div>\n\t\t\t\t<Dots />\n\t\t\t\t<div></div>\n\t\t\t\t{this.renderDebugLogs()}\n\t\t\t</div>\n\t\t);\n\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.renderSplashInfo()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// propTypes validation\nSplashScreen.propTypes = {\n\tapp: PropTypes.object.isRequired,\n};\n\n\n\nexport default SplashScreen;"],"mappings":";;;;;;;;;AAAA;;AAEA;;AACA;;AAEA;;;;;;;;+CAJA,oJ;;;;;;;;;;;;;;;;;;;;;;;;;;IAOMA,Y;;;;;EACL,sBAAYC,KAAZ,EAAmB;IAAA;;IAAA;;IAClB,0BAAMA,KAAN;IAEA,MAAKC,GAAL,GAAW,MAAKD,KAAL,CAAWC,GAAtB;IAEA,MAAKC,QAAL,GAAgB,MAAKD,GAAL,CAASC,QAAzB;IAEA,MAAKC,IAAL,GAAY,MAAKF,GAAL,CAASG,IAAT,EAAZ;IAEA,IAAIC,WAAW,GAAG,EAAlB;IAEA,IAAI,MAAKH,QAAL,IAAiB,KAArB,EACAG,WAAW,GAAG,qCAAd;IAEA,MAAKC,KAAL,GAAa;MACXC,UAAU,EAAE,mCADD;MAEXF,WAAW,EAAEA;IAFF,CAAb;IAdkB;EAkBlB,C,CAED;;;;;WACA,6BAAoB;MACnBG,OAAO,CAACC,GAAR,CAAY,uCAAZ;MAEA,IAAI,KAAKP,QAAL,IAAiB,KAArB,EACC;MAED,IAAID,GAAG,GAAG,KAAKA,GAAf;MACA,IAAIS,UAAU,GAAGT,GAAG,CAACU,mBAAJ,EAAjB;MAEA,IAAID,UAAJ,EACAA,UAAU,CAACE,qBAAX,CAAiC,qBAAjC,EAAwD,KAAKT,IAA7D,EAAmE,KAAKU,aAAxE;IAEA,C,CAED;;;;WACA,gCAAuB;MACtBL,OAAO,CAACC,GAAR,CAAY,0CAAZ;MACA,IAAIR,GAAG,GAAG,KAAKA,GAAf;MACA,IAAIS,UAAU,GAAGT,GAAG,CAACU,mBAAJ,EAAjB;MAEA,IAAID,UAAJ,EACAA,UAAU,CAACI,uBAAX,CAAmC,qBAAnC,EAA0D,KAAKX,IAA/D;IACA;;;;sFAED;QAAA;QAAA;UAAA;YAAA;cAAA;gBACCK,OAAO,CAACC,GAAR,CAAY,mCAAZ;gBAEIM,GAHL,GAGWC,IAAI,CAACD,GAAL,EAHX;gBAKC,KAAKE,QAAL,CAAc;kBAACC,iBAAiB,EAAEH;gBAApB,CAAd;;cALD;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;WAQA,2BAAkB;MACjB,oBAAQ,4CAAR;MACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACE;;;WAED,4BAAmB;MAClB,oBACC;QAAK,SAAS,EAAC;MAAf,gBACC,6CAAM,KAAKT,KAAL,CAAWC,UAAjB,CADD,eAEC,4CAFD,eAGC,6CAAM,KAAKD,KAAL,CAAWD,WAAjB,CAHD,eAIC,4CAJD,eAKC,8DALD,eAMC,gCAAC,mBAAD,OAND,eAOC,4CAPD,EAQE,KAAKc,eAAL,EARF,CADD;IAaA;;;WAED,kBAAS;MACR,oBACC,6CACE,KAAKC,gBAAL,EADF,CADD;IAKA;;;;EAxFyBC,iBAAA,CAAMC,S,GA2FjC;;;AACAvB,YAAY,CAACwB,SAAb,GAAyB;EACxBtB,GAAG,EAAEuB,qBAAA,CAAUC,MAAV,CAAiBC;AADE,CAAzB;eAMe3B,Y"}